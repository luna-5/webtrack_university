(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ic={exports:{}},yi={},oc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),Qh=Symbol.for("react.portal"),Jh=Symbol.for("react.fragment"),Yh=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),Zh=Symbol.for("react.provider"),ef=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),nf=Symbol.for("react.memo"),sf=Symbol.for("react.lazy"),Sa=Symbol.iterator;function of(t){return t===null||typeof t!="object"?null:(t=Sa&&t[Sa]||t["@@iterator"],typeof t=="function"?t:null)}var lc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ac=Object.assign,uc={};function rn(t,e,r){this.props=t,this.context=e,this.refs=uc,this.updater=r||lc}rn.prototype.isReactComponent={};rn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cc(){}cc.prototype=rn.prototype;function jl(t,e,r){this.props=t,this.context=e,this.refs=uc,this.updater=r||lc}var Sl=jl.prototype=new cc;Sl.constructor=jl;ac(Sl,rn.prototype);Sl.isPureReactComponent=!0;var Na=Array.isArray,dc=Object.prototype.hasOwnProperty,Nl={current:null},hc={key:!0,ref:!0,__self:!0,__source:!0};function fc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)dc.call(e,n)&&!hc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:es,type:t,key:i,ref:o,props:s,_owner:Nl.current}}function lf(t,e){return{$$typeof:es,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function El(t){return typeof t=="object"&&t!==null&&t.$$typeof===es}function af(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ea=/\/+/g;function zi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?af(""+t.key):e.toString(36)}function Os(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case es:case Qh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+zi(o,0):n,Na(s)?(r="",t!=null&&(r=t.replace(Ea,"$&/")+"/"),Os(s,e,r,"",function(c){return c})):s!=null&&(El(s)&&(s=lf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ea,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Na(t))for(var a=0;a<t.length;a++){i=t[a];var u=n+zi(i,a);o+=Os(i,e,r,u,s)}else if(u=of(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=n+zi(i,a++),o+=Os(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cs(t,e,r){if(t==null)return t;var n=[],s=0;return Os(t,n,"","",function(i){return e.call(r,i,s++)}),n}function uf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Re={current:null},Rs={transition:null},cf={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:Nl};function pc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:cs,forEach:function(t,e,r){cs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return cs(t,function(){e++}),e},toArray:function(t){return cs(t,function(e){return e})||[]},only:function(t){if(!El(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=rn;K.Fragment=Jh;K.Profiler=Xh;K.PureComponent=jl;K.StrictMode=Yh;K.Suspense=rf;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cf;K.act=pc;K.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ac({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)dc.call(e,u)&&!hc.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:es,type:t.type,key:s,ref:i,props:n,_owner:o}};K.createContext=function(t){return t={$$typeof:ef,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zh,_context:t},t.Consumer=t};K.createElement=fc;K.createFactory=function(t){var e=fc.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:tf,render:t}};K.isValidElement=El;K.lazy=function(t){return{$$typeof:sf,_payload:{_status:-1,_result:t},_init:uf}};K.memo=function(t,e){return{$$typeof:nf,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=Rs.transition;Rs.transition={};try{t()}finally{Rs.transition=e}};K.unstable_act=pc;K.useCallback=function(t,e){return Re.current.useCallback(t,e)};K.useContext=function(t){return Re.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return Re.current.useDeferredValue(t)};K.useEffect=function(t,e){return Re.current.useEffect(t,e)};K.useId=function(){return Re.current.useId()};K.useImperativeHandle=function(t,e,r){return Re.current.useImperativeHandle(t,e,r)};K.useInsertionEffect=function(t,e){return Re.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return Re.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return Re.current.useMemo(t,e)};K.useReducer=function(t,e,r){return Re.current.useReducer(t,e,r)};K.useRef=function(t){return Re.current.useRef(t)};K.useState=function(t){return Re.current.useState(t)};K.useSyncExternalStore=function(t,e,r){return Re.current.useSyncExternalStore(t,e,r)};K.useTransition=function(){return Re.current.useTransition()};K.version="18.3.1";oc.exports=K;var N=oc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=N,hf=Symbol.for("react.element"),ff=Symbol.for("react.fragment"),pf=Object.prototype.hasOwnProperty,mf=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gf={key:!0,ref:!0,__self:!0,__source:!0};function mc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)pf.call(e,n)&&!gf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:hf,type:t,key:i,ref:o,props:s,_owner:mf.current}}yi.Fragment=ff;yi.jsx=mc;yi.jsxs=mc;ic.exports=yi;var l=ic.exports,gc={exports:{}},He={},vc={exports:{}},yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,$){var U=T.length;T.push($);e:for(;0<U;){var Z=U-1>>>1,J=T[Z];if(0<s(J,$))T[Z]=$,T[U]=J,U=Z;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var $=T[0],U=T.pop();if(U!==$){T[0]=U;e:for(var Z=0,J=T.length,Et=J>>>1;Z<Et;){var P=2*(Z+1)-1,B=T[P],Y=P+1,ue=T[Y];if(0>s(B,U))Y<J&&0>s(ue,B)?(T[Z]=ue,T[Y]=U,Z=Y):(T[Z]=B,T[P]=U,Z=P);else if(Y<J&&0>s(ue,U))T[Z]=ue,T[Y]=U,Z=Y;else break e}}return $}function s(T,$){var U=T.sortIndex-$.sortIndex;return U!==0?U:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,m=3,v=!1,w=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var $=r(c);$!==null;){if($.callback===null)n(c);else if($.startTime<=T)n(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=r(c)}}function y(T){if(b=!1,p(T),!w)if(r(u)!==null)w=!0,O(S);else{var $=r(c);$!==null&&F(y,$.startTime-T)}}function S(T,$){w=!1,b&&(b=!1,g(R),R=-1),v=!0;var U=m;try{for(p($),h=r(u);h!==null&&(!(h.expirationTime>$)||T&&!z());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var J=Z(h.expirationTime<=$);$=t.unstable_now(),typeof J=="function"?h.callback=J:h===r(u)&&n(u),p($)}else n(u);h=r(u)}if(h!==null)var Et=!0;else{var P=r(c);P!==null&&F(y,P.startTime-$),Et=!1}return Et}finally{h=null,m=U,v=!1}}var x=!1,j=null,R=-1,H=5,k=-1;function z(){return!(t.unstable_now()-k<H)}function de(){if(j!==null){var T=t.unstable_now();k=T;var $=!0;try{$=j(!0,T)}finally{$?me():(x=!1,j=null)}}else x=!1}var me;if(typeof f=="function")me=function(){f(de)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=de,me=function(){M.postMessage(null)}}else me=function(){E(de,0)};function O(T){j=T,x||(x=!0,me())}function F(T,$){R=E(function(){T(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,O(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(T){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var U=m;m=$;try{return T()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=m;m=T;try{return $()}finally{m=U}},t.unstable_scheduleCallback=function(T,$,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,T){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,T={id:d++,callback:$,priorityLevel:T,startTime:U,expirationTime:J,sortIndex:-1},U>Z?(T.sortIndex=U,e(c,T),r(u)===null&&T===r(c)&&(b?(g(R),R=-1):b=!0,F(y,U-Z))):(T.sortIndex=J,e(u,T),w||v||(w=!0,O(S))),T},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(T){var $=m;return function(){var U=m;m=$;try{return T.apply(this,arguments)}finally{m=U}}}})(yc);vc.exports=yc;var vf=vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=N,qe=vf;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xc=new Set,Ln={};function gr(t,e){Kr(t,e),Kr(t+"Capture",e)}function Kr(t,e){for(Ln[t]=e,t=0;t<e.length;t++)xc.add(e[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=Object.prototype.hasOwnProperty,xf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ca={},Ta={};function wf(t){return _o.call(Ta,t)?!0:_o.call(Ca,t)?!1:xf.test(t)?Ta[t]=!0:(Ca[t]=!0,!1)}function _f(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bf(t,e,r,n){if(e===null||typeof e>"u"||_f(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ae(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new Ae(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];je[e]=new Ae(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new Ae(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new Ae(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new Ae(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){je[t]=new Ae(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){je[t]=new Ae(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){je[t]=new Ae(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){je[t]=new Ae(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cl=/[\-:]([a-z])/g;function Tl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cl,Tl);je[e]=new Ae(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cl,Tl);je[e]=new Ae(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cl,Tl);je[e]=new Ae(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){je[t]=new Ae(t,1,!1,t.toLowerCase(),null,!1,!1)});je.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){je[t]=new Ae(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pl(t,e,r,n){var s=je.hasOwnProperty(e)?je[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bf(e,r,s,n)&&(r=null),n||s===null?wf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var St=yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Ol=Symbol.for("react.strict_mode"),bo=Symbol.for("react.profiler"),wc=Symbol.for("react.provider"),_c=Symbol.for("react.context"),Rl=Symbol.for("react.forward_ref"),ko=Symbol.for("react.suspense"),jo=Symbol.for("react.suspense_list"),Al=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),bc=Symbol.for("react.offscreen"),Pa=Symbol.iterator;function an(t){return t===null||typeof t!="object"?null:(t=Pa&&t[Pa]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,Fi;function yn(t){if(Fi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Fi=e&&e[1]||""}return`
`+Fi+t}var Bi=!1;function qi(t,e){if(!t||Bi)return"";Bi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Bi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?yn(t):""}function kf(t){switch(t.tag){case 5:return yn(t.type);case 16:return yn("Lazy");case 13:return yn("Suspense");case 19:return yn("SuspenseList");case 0:case 2:case 15:return t=qi(t.type,!1),t;case 11:return t=qi(t.type.render,!1),t;case 1:return t=qi(t.type,!0),t;default:return""}}function So(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cr:return"Fragment";case Er:return"Portal";case bo:return"Profiler";case Ol:return"StrictMode";case ko:return"Suspense";case jo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _c:return(t.displayName||"Context")+".Consumer";case wc:return(t._context.displayName||"Context")+".Provider";case Rl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Al:return e=t.displayName||null,e!==null?e:So(t.type)||"Memo";case At:e=t._payload,t=t._init;try{return So(t(e))}catch{}}return null}function jf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return So(e);case 8:return e===Ol?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sf(t){var e=kc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hs(t){t._valueTracker||(t._valueTracker=Sf(t))}function jc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=kc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function No(t,e){var r=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Oa(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sc(t,e){e=e.checked,e!=null&&Pl(t,"checked",e,!1)}function Eo(t,e){Sc(t,e);var r=Gt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Co(t,e.type,r):e.hasOwnProperty("defaultValue")&&Co(t,e.type,Gt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ra(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Co(t,e,r){(e!=="number"||Hs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xn=Array.isArray;function Mr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function To(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Aa(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(C(92));if(xn(r)){if(1<r.length)throw Error(C(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gt(r)}}function Nc(t,e){var r=Gt(e.value),n=Gt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ia(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ec(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ec(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fs,Cc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $n(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nf=["Webkit","ms","Moz","O"];Object.keys(kn).forEach(function(t){Nf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kn[e]=kn[t]})});function Tc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kn.hasOwnProperty(t)&&kn[t]?(""+e).trim():e+"px"}function Pc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Tc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Ef=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(t,e){if(e){if(Ef[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Ro(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=null;function Il(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Io=null,zr=null,Fr=null;function La(t){if(t=ns(t)){if(typeof Io!="function")throw Error(C(280));var e=t.stateNode;e&&(e=ki(e),Io(t.stateNode,t.type,e))}}function Oc(t){zr?Fr?Fr.push(t):Fr=[t]:zr=t}function Rc(){if(zr){var t=zr,e=Fr;if(Fr=zr=null,La(t),e)for(t=0;t<e.length;t++)La(e[t])}}function Ac(t,e){return t(e)}function Ic(){}var Hi=!1;function Lc(t,e,r){if(Hi)return t(e,r);Hi=!0;try{return Ac(t,e,r)}finally{Hi=!1,(zr!==null||Fr!==null)&&(Ic(),Rc())}}function Dn(t,e){var r=t.stateNode;if(r===null)return null;var n=ki(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(C(231,e,typeof r));return r}var Lo=!1;if(_t)try{var un={};Object.defineProperty(un,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Lo=!1}function Cf(t,e,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var jn=!1,Ws=null,Vs=!1,$o=null,Tf={onError:function(t){jn=!0,Ws=t}};function Pf(t,e,r,n,s,i,o,a,u){jn=!1,Ws=null,Cf.apply(Tf,arguments)}function Of(t,e,r,n,s,i,o,a,u){if(Pf.apply(this,arguments),jn){if(jn){var c=Ws;jn=!1,Ws=null}else throw Error(C(198));Vs||(Vs=!0,$o=c)}}function vr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function $c(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $a(t){if(vr(t)!==t)throw Error(C(188))}function Rf(t){var e=t.alternate;if(!e){if(e=vr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return $a(s),t;if(i===n)return $a(s),e;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?t:e}function Dc(t){return t=Rf(t),t!==null?Uc(t):null}function Uc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Uc(t);if(e!==null)return e;t=t.sibling}return null}var Mc=qe.unstable_scheduleCallback,Da=qe.unstable_cancelCallback,Af=qe.unstable_shouldYield,If=qe.unstable_requestPaint,fe=qe.unstable_now,Lf=qe.unstable_getCurrentPriorityLevel,Ll=qe.unstable_ImmediatePriority,zc=qe.unstable_UserBlockingPriority,Ks=qe.unstable_NormalPriority,$f=qe.unstable_LowPriority,Fc=qe.unstable_IdlePriority,xi=null,ht=null;function Df(t){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:zf,Uf=Math.log,Mf=Math.LN2;function zf(t){return t>>>=0,t===0?32:31-(Uf(t)/Mf|0)|0}var ps=64,ms=4194304;function wn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=wn(a):(i&=o,i!==0&&(n=wn(i)))}else o=r&~s,o!==0?n=wn(o):i!==0&&(n=wn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-it(e),s=1<<r,n|=t[r],e&=~s;return n}function Ff(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-it(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=Ff(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Do(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bc(){var t=ps;return ps<<=1,!(ps&4194240)&&(ps=64),t}function Wi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ts(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=r}function qf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-it(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function $l(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-it(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var X=0;function qc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hc,Dl,Wc,Vc,Kc,Uo=!1,gs=[],zt=null,Ft=null,Bt=null,Un=new Map,Mn=new Map,Lt=[],Hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ua(t,e){switch(t){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Un.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(e.pointerId)}}function cn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ns(e),e!==null&&Dl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Wf(t,e,r,n,s){switch(e){case"focusin":return zt=cn(zt,t,e,r,n,s),!0;case"dragenter":return Ft=cn(Ft,t,e,r,n,s),!0;case"mouseover":return Bt=cn(Bt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Un.set(i,cn(Un.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Mn.set(i,cn(Mn.get(i)||null,t,e,r,n,s)),!0}return!1}function Gc(t){var e=or(t.target);if(e!==null){var r=vr(e);if(r!==null){if(e=r.tag,e===13){if(e=$c(r),e!==null){t.blockedOn=e,Kc(t.priority,function(){Wc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function As(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Mo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ao=n,r.target.dispatchEvent(n),Ao=null}else return e=ns(r),e!==null&&Dl(e),t.blockedOn=r,!1;e.shift()}return!0}function Ma(t,e,r){As(t)&&r.delete(e)}function Vf(){Uo=!1,zt!==null&&As(zt)&&(zt=null),Ft!==null&&As(Ft)&&(Ft=null),Bt!==null&&As(Bt)&&(Bt=null),Un.forEach(Ma),Mn.forEach(Ma)}function dn(t,e){t.blockedOn===e&&(t.blockedOn=null,Uo||(Uo=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,Vf)))}function zn(t){function e(s){return dn(s,t)}if(0<gs.length){dn(gs[0],t);for(var r=1;r<gs.length;r++){var n=gs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(zt!==null&&dn(zt,t),Ft!==null&&dn(Ft,t),Bt!==null&&dn(Bt,t),Un.forEach(e),Mn.forEach(e),r=0;r<Lt.length;r++)n=Lt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Lt.length&&(r=Lt[0],r.blockedOn===null);)Gc(r),r.blockedOn===null&&Lt.shift()}var Br=St.ReactCurrentBatchConfig,Qs=!0;function Kf(t,e,r,n){var s=X,i=Br.transition;Br.transition=null;try{X=1,Ul(t,e,r,n)}finally{X=s,Br.transition=i}}function Gf(t,e,r,n){var s=X,i=Br.transition;Br.transition=null;try{X=4,Ul(t,e,r,n)}finally{X=s,Br.transition=i}}function Ul(t,e,r,n){if(Qs){var s=Mo(t,e,r,n);if(s===null)to(t,e,n,Js,r),Ua(t,n);else if(Wf(s,t,e,r,n))n.stopPropagation();else if(Ua(t,n),e&4&&-1<Hf.indexOf(t)){for(;s!==null;){var i=ns(s);if(i!==null&&Hc(i),i=Mo(t,e,r,n),i===null&&to(t,e,n,Js,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else to(t,e,n,null,r)}}var Js=null;function Mo(t,e,r,n){if(Js=null,t=Il(n),t=or(t),t!==null)if(e=vr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=$c(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Js=t,null}function Qc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lf()){case Ll:return 1;case zc:return 4;case Ks:case $f:return 16;case Fc:return 536870912;default:return 16}default:return 16}}var Ut=null,Ml=null,Is=null;function Jc(){if(Is)return Is;var t,e=Ml,r=e.length,n,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Is=s.slice(t,1<n?1-n:void 0)}function Ls(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vs(){return!0}function za(){return!1}function We(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vs:za,this.isPropagationStopped=za,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),e}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=We(nn),rs=ae({},nn,{view:0,detail:0}),Qf=We(rs),Vi,Ki,hn,wi=ae({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&t.type==="mousemove"?(Vi=t.screenX-hn.screenX,Ki=t.screenY-hn.screenY):Ki=Vi=0,hn=t),Vi)},movementY:function(t){return"movementY"in t?t.movementY:Ki}}),Fa=We(wi),Jf=ae({},wi,{dataTransfer:0}),Yf=We(Jf),Xf=ae({},rs,{relatedTarget:0}),Gi=We(Xf),Zf=ae({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=We(Zf),tp=ae({},nn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rp=We(tp),np=ae({},nn,{data:0}),Ba=We(np),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=op[t])?!!e[t]:!1}function Fl(){return lp}var ap=ae({},rs,{key:function(t){if(t.key){var e=sp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ip[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),up=We(ap),cp=ae({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qa=We(cp),dp=ae({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),hp=We(dp),fp=ae({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),pp=We(fp),mp=ae({},wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=We(mp),vp=[9,13,27,32],Bl=_t&&"CompositionEvent"in window,Sn=null;_t&&"documentMode"in document&&(Sn=document.documentMode);var yp=_t&&"TextEvent"in window&&!Sn,Yc=_t&&(!Bl||Sn&&8<Sn&&11>=Sn),Ha=" ",Wa=!1;function Xc(t,e){switch(t){case"keyup":return vp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function xp(t,e){switch(t){case"compositionend":return Zc(e);case"keypress":return e.which!==32?null:(Wa=!0,Ha);case"textInput":return t=e.data,t===Ha&&Wa?null:t;default:return null}}function wp(t,e){if(Tr)return t==="compositionend"||!Bl&&Xc(t,e)?(t=Jc(),Is=Ml=Ut=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yc&&e.locale!=="ko"?null:e.data;default:return null}}var _p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_p[t.type]:e==="textarea"}function ed(t,e,r,n){Oc(n),e=Ys(e,"onChange"),0<e.length&&(r=new zl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Nn=null,Fn=null;function bp(t){dd(t,0)}function _i(t){var e=Rr(t);if(jc(e))return t}function kp(t,e){if(t==="change")return e}var td=!1;if(_t){var Qi;if(_t){var Ji="oninput"in document;if(!Ji){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),Ji=typeof Ka.oninput=="function"}Qi=Ji}else Qi=!1;td=Qi&&(!document.documentMode||9<document.documentMode)}function Ga(){Nn&&(Nn.detachEvent("onpropertychange",rd),Fn=Nn=null)}function rd(t){if(t.propertyName==="value"&&_i(Fn)){var e=[];ed(e,Fn,t,Il(t)),Lc(bp,e)}}function jp(t,e,r){t==="focusin"?(Ga(),Nn=e,Fn=r,Nn.attachEvent("onpropertychange",rd)):t==="focusout"&&Ga()}function Sp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _i(Fn)}function Np(t,e){if(t==="click")return _i(e)}function Ep(t,e){if(t==="input"||t==="change")return _i(e)}function Cp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lt=typeof Object.is=="function"?Object.is:Cp;function Bn(t,e){if(lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_o.call(e,s)||!lt(t[s],e[s]))return!1}return!0}function Qa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ja(t,e){var r=Qa(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qa(r)}}function nd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sd(){for(var t=window,e=Hs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Hs(t.document)}return e}function ql(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tp(t){var e=sd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&nd(r.ownerDocument.documentElement,r)){if(n!==null&&ql(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Ja(r,i);var o=Ja(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pp=_t&&"documentMode"in document&&11>=document.documentMode,Pr=null,zo=null,En=null,Fo=!1;function Ya(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fo||Pr==null||Pr!==Hs(n)||(n=Pr,"selectionStart"in n&&ql(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),En&&Bn(En,n)||(En=n,n=Ys(zo,"onSelect"),0<n.length&&(e=new zl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Pr)))}function ys(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Or={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},Yi={},id={};_t&&(id=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function bi(t){if(Yi[t])return Yi[t];if(!Or[t])return t;var e=Or[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in id)return Yi[t]=e[r];return t}var od=bi("animationend"),ld=bi("animationiteration"),ad=bi("animationstart"),ud=bi("transitionend"),cd=new Map,Xa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(t,e){cd.set(t,e),gr(e,[t])}for(var Xi=0;Xi<Xa.length;Xi++){var Zi=Xa[Xi],Op=Zi.toLowerCase(),Rp=Zi[0].toUpperCase()+Zi.slice(1);Jt(Op,"on"+Rp)}Jt(od,"onAnimationEnd");Jt(ld,"onAnimationIteration");Jt(ad,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(ud,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function Za(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Of(n,e,void 0,t),t.currentTarget=null}function dd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Za(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Za(s,a,c),i=u}}}if(Vs)throw t=$o,Vs=!1,$o=null,t}function re(t,e){var r=e[Vo];r===void 0&&(r=e[Vo]=new Set);var n=t+"__bubble";r.has(n)||(hd(e,t,2,!1),r.add(n))}function eo(t,e,r){var n=0;e&&(n|=4),hd(r,t,n,e)}var xs="_reactListening"+Math.random().toString(36).slice(2);function qn(t){if(!t[xs]){t[xs]=!0,xc.forEach(function(r){r!=="selectionchange"&&(Ap.has(r)||eo(r,!1,t),eo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xs]||(e[xs]=!0,eo("selectionchange",!1,e))}}function hd(t,e,r,n){switch(Qc(e)){case 1:var s=Kf;break;case 4:s=Gf;break;default:s=Ul}r=s.bind(null,e,r,t),s=void 0,!Lo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function to(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=or(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Lc(function(){var c=i,d=Il(r),h=[];e:{var m=cd.get(t);if(m!==void 0){var v=zl,w=t;switch(t){case"keypress":if(Ls(r)===0)break e;case"keydown":case"keyup":v=up;break;case"focusin":w="focus",v=Gi;break;case"focusout":w="blur",v=Gi;break;case"beforeblur":case"afterblur":v=Gi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=hp;break;case od:case ld:case ad:v=ep;break;case ud:v=pp;break;case"scroll":v=Qf;break;case"wheel":v=gp;break;case"copy":case"cut":case"paste":v=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=qa}var b=(e&4)!==0,E=!b&&t==="scroll",g=b?m!==null?m+"Capture":null:m;b=[];for(var f=c,p;f!==null;){p=f;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,g!==null&&(y=Dn(f,g),y!=null&&b.push(Hn(f,y,p)))),E)break;f=f.return}0<b.length&&(m=new v(m,w,null,r,d),h.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==Ao&&(w=r.relatedTarget||r.fromElement)&&(or(w)||w[bt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=c,w=w?or(w):null,w!==null&&(E=vr(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(b=Fa,y="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(b=qa,y="onPointerLeave",g="onPointerEnter",f="pointer"),E=v==null?m:Rr(v),p=w==null?m:Rr(w),m=new b(y,f+"leave",v,r,d),m.target=E,m.relatedTarget=p,y=null,or(d)===c&&(b=new b(g,f+"enter",w,r,d),b.target=p,b.relatedTarget=E,y=b),E=y,v&&w)t:{for(b=v,g=w,f=0,p=b;p;p=xr(p))f++;for(p=0,y=g;y;y=xr(y))p++;for(;0<f-p;)b=xr(b),f--;for(;0<p-f;)g=xr(g),p--;for(;f--;){if(b===g||g!==null&&b===g.alternate)break t;b=xr(b),g=xr(g)}b=null}else b=null;v!==null&&eu(h,m,v,b,!1),w!==null&&E!==null&&eu(h,E,w,b,!0)}}e:{if(m=c?Rr(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var S=kp;else if(Va(m))if(td)S=Ep;else{S=Sp;var x=jp}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Np);if(S&&(S=S(t,c))){ed(h,S,r,d);break e}x&&x(t,m,c),t==="focusout"&&(x=m._wrapperState)&&x.controlled&&m.type==="number"&&Co(m,"number",m.value)}switch(x=c?Rr(c):window,t){case"focusin":(Va(x)||x.contentEditable==="true")&&(Pr=x,zo=c,En=null);break;case"focusout":En=zo=Pr=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Ya(h,r,d);break;case"selectionchange":if(Pp)break;case"keydown":case"keyup":Ya(h,r,d)}var j;if(Bl)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Tr?Xc(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Yc&&r.locale!=="ko"&&(Tr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Tr&&(j=Jc()):(Ut=d,Ml="value"in Ut?Ut.value:Ut.textContent,Tr=!0)),x=Ys(c,R),0<x.length&&(R=new Ba(R,t,null,r,d),h.push({event:R,listeners:x}),j?R.data=j:(j=Zc(r),j!==null&&(R.data=j)))),(j=yp?xp(t,r):wp(t,r))&&(c=Ys(c,"onBeforeInput"),0<c.length&&(d=new Ba("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=j))}dd(h,e)})}function Hn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ys(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dn(t,r),i!=null&&n.unshift(Hn(t,i,s)),i=Dn(t,e),i!=null&&n.push(Hn(t,i,s))),t=t.return}return n}function xr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=Dn(r,i),u!=null&&o.unshift(Hn(r,u,a))):s||(u=Dn(r,i),u!=null&&o.push(Hn(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Ip=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function tu(t){return(typeof t=="string"?t:""+t).replace(Ip,`
`).replace(Lp,"")}function ws(t,e,r){if(e=tu(e),tu(t)!==e&&r)throw Error(C(425))}function Xs(){}var Bo=null,qo=null;function Ho(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wo=typeof setTimeout=="function"?setTimeout:void 0,$p=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,Dp=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(t){return ru.resolve(null).then(t).catch(Up)}:Wo;function Up(t){setTimeout(function(){throw t})}function ro(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),zn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);zn(e)}function qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var sn=Math.random().toString(36).slice(2),dt="__reactFiber$"+sn,Wn="__reactProps$"+sn,bt="__reactContainer$"+sn,Vo="__reactEvents$"+sn,Mp="__reactListeners$"+sn,zp="__reactHandles$"+sn;function or(t){var e=t[dt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bt]||r[dt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nu(t);t!==null;){if(r=t[dt])return r;t=nu(t)}return e}t=r,r=t.parentNode}return null}function ns(t){return t=t[dt]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function ki(t){return t[Wn]||null}var Ko=[],Ar=-1;function Yt(t){return{current:t}}function ne(t){0>Ar||(t.current=Ko[Ar],Ko[Ar]=null,Ar--)}function te(t,e){Ar++,Ko[Ar]=t.current,t.current=e}var Qt={},Ce=Yt(Qt),De=Yt(!1),dr=Qt;function Gr(t,e){var r=t.type.contextTypes;if(!r)return Qt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(t){return t=t.childContextTypes,t!=null}function Zs(){ne(De),ne(Ce)}function su(t,e,r){if(Ce.current!==Qt)throw Error(C(168));te(Ce,e),te(De,r)}function fd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(C(108,jf(t)||"Unknown",s));return ae({},r,n)}function ei(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qt,dr=Ce.current,te(Ce,t),te(De,De.current),!0}function iu(t,e,r){var n=t.stateNode;if(!n)throw Error(C(169));r?(t=fd(t,e,dr),n.__reactInternalMemoizedMergedChildContext=t,ne(De),ne(Ce),te(Ce,t)):ne(De),te(De,r)}var vt=null,ji=!1,no=!1;function pd(t){vt===null?vt=[t]:vt.push(t)}function Fp(t){ji=!0,pd(t)}function Xt(){if(!no&&vt!==null){no=!0;var t=0,e=X;try{var r=vt;for(X=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vt=null,ji=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),Mc(Ll,Xt),s}finally{X=e,no=!1}}return null}var Ir=[],Lr=0,ti=null,ri=0,Ve=[],Ke=0,hr=null,yt=1,xt="";function rr(t,e){Ir[Lr++]=ri,Ir[Lr++]=ti,ti=t,ri=e}function md(t,e,r){Ve[Ke++]=yt,Ve[Ke++]=xt,Ve[Ke++]=hr,hr=t;var n=yt;t=xt;var s=32-it(n)-1;n&=~(1<<s),r+=1;var i=32-it(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yt=1<<32-it(e)+s|r<<s|n,xt=i+t}else yt=1<<i|r<<s|n,xt=t}function Hl(t){t.return!==null&&(rr(t,1),md(t,1,0))}function Wl(t){for(;t===ti;)ti=Ir[--Lr],Ir[Lr]=null,ri=Ir[--Lr],Ir[Lr]=null;for(;t===hr;)hr=Ve[--Ke],Ve[Ke]=null,xt=Ve[--Ke],Ve[Ke]=null,yt=Ve[--Ke],Ve[Ke]=null}var Be=null,Fe=null,ie=!1,st=null;function gd(t,e){var r=Ge(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ou(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Be=t,Fe=qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Be=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=hr!==null?{id:yt,overflow:xt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ge(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Be=t,Fe=null,!0):!1;default:return!1}}function Go(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qo(t){if(ie){var e=Fe;if(e){var r=e;if(!ou(t,e)){if(Go(t))throw Error(C(418));e=qt(r.nextSibling);var n=Be;e&&ou(t,e)?gd(n,r):(t.flags=t.flags&-4097|2,ie=!1,Be=t)}}else{if(Go(t))throw Error(C(418));t.flags=t.flags&-4097|2,ie=!1,Be=t}}}function lu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Be=t}function _s(t){if(t!==Be)return!1;if(!ie)return lu(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ho(t.type,t.memoizedProps)),e&&(e=Fe)){if(Go(t))throw vd(),Error(C(418));for(;e;)gd(t,e),e=qt(e.nextSibling)}if(lu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fe=qt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=Be?qt(t.stateNode.nextSibling):null;return!0}function vd(){for(var t=Fe;t;)t=qt(t.nextSibling)}function Qr(){Fe=Be=null,ie=!1}function Vl(t){st===null?st=[t]:st.push(t)}var Bp=St.ReactCurrentBatchConfig;function fn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,t))}return t}function bs(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function au(t){var e=t._init;return e(t._payload)}function yd(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function r(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Kt(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,f,p,y){return f===null||f.tag!==6?(f=co(p,g.mode,y),f.return=g,f):(f=s(f,p),f.return=g,f)}function u(g,f,p,y){var S=p.type;return S===Cr?d(g,f,p.props.children,y,p.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===At&&au(S)===f.type)?(y=s(f,p.props),y.ref=fn(g,f,p),y.return=g,y):(y=Bs(p.type,p.key,p.props,null,g.mode,y),y.ref=fn(g,f,p),y.return=g,y)}function c(g,f,p,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=ho(p,g.mode,y),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,y,S){return f===null||f.tag!==7?(f=cr(p,g.mode,y,S),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=co(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ds:return p=Bs(f.type,f.key,f.props,null,g.mode,p),p.ref=fn(g,null,f),p.return=g,p;case Er:return f=ho(f,g.mode,p),f.return=g,f;case At:var y=f._init;return h(g,y(f._payload),p)}if(xn(f)||an(f))return f=cr(f,g.mode,p,null),f.return=g,f;bs(g,f)}return null}function m(g,f,p,y){var S=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:a(g,f,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ds:return p.key===S?u(g,f,p,y):null;case Er:return p.key===S?c(g,f,p,y):null;case At:return S=p._init,m(g,f,S(p._payload),y)}if(xn(p)||an(p))return S!==null?null:d(g,f,p,y,null);bs(g,p)}return null}function v(g,f,p,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(p)||null,a(f,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ds:return g=g.get(y.key===null?p:y.key)||null,u(f,g,y,S);case Er:return g=g.get(y.key===null?p:y.key)||null,c(f,g,y,S);case At:var x=y._init;return v(g,f,p,x(y._payload),S)}if(xn(y)||an(y))return g=g.get(p)||null,d(f,g,y,S,null);bs(f,y)}return null}function w(g,f,p,y){for(var S=null,x=null,j=f,R=f=0,H=null;j!==null&&R<p.length;R++){j.index>R?(H=j,j=null):H=j.sibling;var k=m(g,j,p[R],y);if(k===null){j===null&&(j=H);break}t&&j&&k.alternate===null&&e(g,j),f=i(k,f,R),x===null?S=k:x.sibling=k,x=k,j=H}if(R===p.length)return r(g,j),ie&&rr(g,R),S;if(j===null){for(;R<p.length;R++)j=h(g,p[R],y),j!==null&&(f=i(j,f,R),x===null?S=j:x.sibling=j,x=j);return ie&&rr(g,R),S}for(j=n(g,j);R<p.length;R++)H=v(j,g,R,p[R],y),H!==null&&(t&&H.alternate!==null&&j.delete(H.key===null?R:H.key),f=i(H,f,R),x===null?S=H:x.sibling=H,x=H);return t&&j.forEach(function(z){return e(g,z)}),ie&&rr(g,R),S}function b(g,f,p,y){var S=an(p);if(typeof S!="function")throw Error(C(150));if(p=S.call(p),p==null)throw Error(C(151));for(var x=S=null,j=f,R=f=0,H=null,k=p.next();j!==null&&!k.done;R++,k=p.next()){j.index>R?(H=j,j=null):H=j.sibling;var z=m(g,j,k.value,y);if(z===null){j===null&&(j=H);break}t&&j&&z.alternate===null&&e(g,j),f=i(z,f,R),x===null?S=z:x.sibling=z,x=z,j=H}if(k.done)return r(g,j),ie&&rr(g,R),S;if(j===null){for(;!k.done;R++,k=p.next())k=h(g,k.value,y),k!==null&&(f=i(k,f,R),x===null?S=k:x.sibling=k,x=k);return ie&&rr(g,R),S}for(j=n(g,j);!k.done;R++,k=p.next())k=v(j,g,R,k.value,y),k!==null&&(t&&k.alternate!==null&&j.delete(k.key===null?R:k.key),f=i(k,f,R),x===null?S=k:x.sibling=k,x=k);return t&&j.forEach(function(de){return e(g,de)}),ie&&rr(g,R),S}function E(g,f,p,y){if(typeof p=="object"&&p!==null&&p.type===Cr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ds:e:{for(var S=p.key,x=f;x!==null;){if(x.key===S){if(S=p.type,S===Cr){if(x.tag===7){r(g,x.sibling),f=s(x,p.props.children),f.return=g,g=f;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===At&&au(S)===x.type){r(g,x.sibling),f=s(x,p.props),f.ref=fn(g,x,p),f.return=g,g=f;break e}r(g,x);break}else e(g,x);x=x.sibling}p.type===Cr?(f=cr(p.props.children,g.mode,y,p.key),f.return=g,g=f):(y=Bs(p.type,p.key,p.props,null,g.mode,y),y.ref=fn(g,f,p),y.return=g,g=y)}return o(g);case Er:e:{for(x=p.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else e(g,f);f=f.sibling}f=ho(p,g.mode,y),f.return=g,g=f}return o(g);case At:return x=p._init,E(g,f,x(p._payload),y)}if(xn(p))return w(g,f,p,y);if(an(p))return b(g,f,p,y);bs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,p),f.return=g,g=f):(r(g,f),f=co(p,g.mode,y),f.return=g,g=f),o(g)):r(g,f)}return E}var Jr=yd(!0),xd=yd(!1),ni=Yt(null),si=null,$r=null,Kl=null;function Gl(){Kl=$r=si=null}function Ql(t){var e=ni.current;ne(ni),t._currentValue=e}function Jo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function qr(t,e){si=t,Kl=$r=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($e=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(Kl!==t)if(t={context:t,memoizedValue:e,next:null},$r===null){if(si===null)throw Error(C(308));$r=t,si.dependencies={lanes:0,firstContext:t}}else $r=$r.next=t;return e}var lr=null;function Jl(t){lr===null?lr=[t]:lr.push(t)}function wd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Jl(e)):(r.next=s.next,s.next=r),e.interleaved=r,kt(t,n)}function kt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var It=!1;function Yl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _d(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ht(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,kt(t,r)}return s=n.interleaved,s===null?(e.next=e,Jl(n)):(e.next=s.next,s.next=e),n.interleaved=e,kt(t,r)}function $s(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$l(t,r)}}function uu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ii(t,e,r,n){var s=t.updateQueue;It=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var m=a.lane,v=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,b=a;switch(m=e,v=r,b.tag){case 1:if(w=b.payload,typeof w=="function"){h=w.call(v,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,m=typeof w=="function"?w.call(v,h,m):w,m==null)break e;h=ae({},h,m);break e;case 2:It=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pr|=o,t.lanes=o,t.memoizedState=h}}function cu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var ss={},ft=Yt(ss),Vn=Yt(ss),Kn=Yt(ss);function ar(t){if(t===ss)throw Error(C(174));return t}function Xl(t,e){switch(te(Kn,e),te(Vn,t),te(ft,ss),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Po(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Po(e,t)}ne(ft),te(ft,e)}function Yr(){ne(ft),ne(Vn),ne(Kn)}function bd(t){ar(Kn.current);var e=ar(ft.current),r=Po(e,t.type);e!==r&&(te(Vn,t),te(ft,r))}function Zl(t){Vn.current===t&&(ne(ft),ne(Vn))}var oe=Yt(0);function oi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var so=[];function ea(){for(var t=0;t<so.length;t++)so[t]._workInProgressVersionPrimary=null;so.length=0}var Ds=St.ReactCurrentDispatcher,io=St.ReactCurrentBatchConfig,fr=0,le=null,ye=null,we=null,li=!1,Cn=!1,Gn=0,qp=0;function Se(){throw Error(C(321))}function ta(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!lt(t[r],e[r]))return!1;return!0}function ra(t,e,r,n,s,i){if(fr=i,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ds.current=t===null||t.memoizedState===null?Kp:Gp,t=r(n,s),Cn){i=0;do{if(Cn=!1,Gn=0,25<=i)throw Error(C(301));i+=1,we=ye=null,e.updateQueue=null,Ds.current=Qp,t=r(n,s)}while(Cn)}if(Ds.current=ai,e=ye!==null&&ye.next!==null,fr=0,we=ye=le=null,li=!1,e)throw Error(C(300));return t}function na(){var t=Gn!==0;return Gn=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?le.memoizedState=we=t:we=we.next=t,we}function Xe(){if(ye===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=we===null?le.memoizedState:we.next;if(e!==null)we=e,ye=t;else{if(t===null)throw Error(C(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},we===null?le.memoizedState=we=t:we=we.next=t}return we}function Qn(t,e){return typeof e=="function"?e(t):e}function oo(t){var e=Xe(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=ye,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((fr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,le.lanes|=d,pr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,lt(n,e.memoizedState)||($e=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,le.lanes|=i,pr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function lo(t){var e=Xe(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);lt(i,e.memoizedState)||($e=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function kd(){}function jd(t,e){var r=le,n=Xe(),s=e(),i=!lt(n.memoizedState,s);if(i&&(n.memoizedState=s,$e=!0),n=n.queue,sa(Ed.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||we!==null&&we.memoizedState.tag&1){if(r.flags|=2048,Jn(9,Nd.bind(null,r,n,s,e),void 0,null),_e===null)throw Error(C(349));fr&30||Sd(r,e,s)}return s}function Sd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Nd(t,e,r,n){e.value=r,e.getSnapshot=n,Cd(e)&&Td(t)}function Ed(t,e,r){return r(function(){Cd(e)&&Td(t)})}function Cd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!lt(t,r)}catch{return!0}}function Td(t){var e=kt(t,1);e!==null&&ot(e,t,1,-1)}function du(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:t},e.queue=t,t=t.dispatch=Vp.bind(null,le,t),[e.memoizedState,t]}function Jn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Pd(){return Xe().memoizedState}function Us(t,e,r,n){var s=ut();le.flags|=t,s.memoizedState=Jn(1|e,r,void 0,n===void 0?null:n)}function Si(t,e,r,n){var s=Xe();n=n===void 0?null:n;var i=void 0;if(ye!==null){var o=ye.memoizedState;if(i=o.destroy,n!==null&&ta(n,o.deps)){s.memoizedState=Jn(e,r,i,n);return}}le.flags|=t,s.memoizedState=Jn(1|e,r,i,n)}function hu(t,e){return Us(8390656,8,t,e)}function sa(t,e){return Si(2048,8,t,e)}function Od(t,e){return Si(4,2,t,e)}function Rd(t,e){return Si(4,4,t,e)}function Ad(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Id(t,e,r){return r=r!=null?r.concat([t]):null,Si(4,4,Ad.bind(null,e,t),r)}function ia(){}function Ld(t,e){var r=Xe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ta(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function $d(t,e){var r=Xe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ta(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Dd(t,e,r){return fr&21?(lt(r,e)||(r=Bc(),le.lanes|=r,pr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$e=!0),t.memoizedState=r)}function Hp(t,e){var r=X;X=r!==0&&4>r?r:4,t(!0);var n=io.transition;io.transition={};try{t(!1),e()}finally{X=r,io.transition=n}}function Ud(){return Xe().memoizedState}function Wp(t,e,r){var n=Vt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Md(t))zd(e,r);else if(r=wd(t,e,r,n),r!==null){var s=Oe();ot(r,t,n,s),Fd(r,e,n)}}function Vp(t,e,r){var n=Vt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Md(t))zd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,lt(a,o)){var u=e.interleaved;u===null?(s.next=s,Jl(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=wd(t,e,s,n),r!==null&&(s=Oe(),ot(r,t,n,s),Fd(r,e,n))}}function Md(t){var e=t.alternate;return t===le||e!==null&&e===le}function zd(t,e){Cn=li=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Fd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$l(t,r)}}var ai={readContext:Ye,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Kp={readContext:Ye,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:hu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Us(4194308,4,Ad.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Us(4194308,4,t,e)},useInsertionEffect:function(t,e){return Us(4,2,t,e)},useMemo:function(t,e){var r=ut();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ut();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Wp.bind(null,le,t),[n.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:du,useDebugValue:ia,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=du(!1),e=t[0];return t=Hp.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=le,s=ut();if(ie){if(r===void 0)throw Error(C(407));r=r()}else{if(r=e(),_e===null)throw Error(C(349));fr&30||Sd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,hu(Ed.bind(null,n,i,t),[t]),n.flags|=2048,Jn(9,Nd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ut(),e=_e.identifierPrefix;if(ie){var r=xt,n=yt;r=(n&~(1<<32-it(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Gn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=qp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gp={readContext:Ye,useCallback:Ld,useContext:Ye,useEffect:sa,useImperativeHandle:Id,useInsertionEffect:Od,useLayoutEffect:Rd,useMemo:$d,useReducer:oo,useRef:Pd,useState:function(){return oo(Qn)},useDebugValue:ia,useDeferredValue:function(t){var e=Xe();return Dd(e,ye.memoizedState,t)},useTransition:function(){var t=oo(Qn)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:kd,useSyncExternalStore:jd,useId:Ud,unstable_isNewReconciler:!1},Qp={readContext:Ye,useCallback:Ld,useContext:Ye,useEffect:sa,useImperativeHandle:Id,useInsertionEffect:Od,useLayoutEffect:Rd,useMemo:$d,useReducer:lo,useRef:Pd,useState:function(){return lo(Qn)},useDebugValue:ia,useDeferredValue:function(t){var e=Xe();return ye===null?e.memoizedState=t:Dd(e,ye.memoizedState,t)},useTransition:function(){var t=lo(Qn)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:kd,useSyncExternalStore:jd,useId:Ud,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Yo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ae({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ni={isMounted:function(t){return(t=t._reactInternals)?vr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Oe(),s=Vt(t),i=wt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ht(t,i,s),e!==null&&(ot(e,t,s,n),$s(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Oe(),s=Vt(t),i=wt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ht(t,i,s),e!==null&&(ot(e,t,s,n),$s(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Oe(),n=Vt(t),s=wt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ht(t,s,n),e!==null&&(ot(e,t,n,r),$s(e,t,n))}};function fu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bn(r,n)||!Bn(s,i):!0}function Bd(t,e,r){var n=!1,s=Qt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Ue(e)?dr:Ce.current,n=e.contextTypes,i=(n=n!=null)?Gr(t,s):Qt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ni,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ni.enqueueReplaceState(e,e.state,null)}function Xo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Yl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Ue(e)?dr:Ce.current,s.context=Gr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ni.enqueueReplaceState(s,s.state,null),ii(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xr(t,e){try{var r="",n=e;do r+=kf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ao(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Zo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Jp=typeof WeakMap=="function"?WeakMap:Map;function qd(t,e,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ci||(ci=!0,ul=n),Zo(t,e)},r}function Hd(t,e,r){r=wt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Zo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zo(t,e),typeof n!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function mu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Jp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=cm.bind(null,t,e,r),e.then(t,t))}function gu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=wt(-1,1),e.tag=2,Ht(r,e,1))),r.lanes|=1),t)}var Yp=St.ReactCurrentOwner,$e=!1;function Pe(t,e,r,n){e.child=t===null?xd(e,null,r,n):Jr(e,t.child,r,n)}function yu(t,e,r,n,s){r=r.render;var i=e.ref;return qr(e,s),n=ra(t,e,r,n,i,s),r=na(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(ie&&r&&Hl(e),e.flags|=1,Pe(t,e,n,s),e.child)}function xu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!fa(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Wd(t,e,i,n,s)):(t=Bs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Bn,r(o,n)&&t.ref===e.ref)return jt(t,e,s)}return e.flags|=1,t=Kt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Wd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Bn(i,n)&&t.ref===e.ref)if($e=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&($e=!0);else return e.lanes=t.lanes,jt(t,e,s)}return el(t,e,r,n,s)}function Vd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Ur,ze),ze|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(Ur,ze),ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,te(Ur,ze),ze|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,te(Ur,ze),ze|=n;return Pe(t,e,s,r),e.child}function Kd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function el(t,e,r,n,s){var i=Ue(r)?dr:Ce.current;return i=Gr(e,i),qr(e,s),r=ra(t,e,r,n,i,s),n=na(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(ie&&n&&Hl(e),e.flags|=1,Pe(t,e,r,s),e.child)}function wu(t,e,r,n,s){if(Ue(r)){var i=!0;ei(e)}else i=!1;if(qr(e,s),e.stateNode===null)Ms(t,e),Bd(e,r,n),Xo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ye(c):(c=Ue(r)?dr:Ce.current,c=Gr(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&pu(e,o,n,c),It=!1;var m=e.memoizedState;o.state=m,ii(e,n,o,s),u=e.memoizedState,a!==n||m!==u||De.current||It?(typeof d=="function"&&(Yo(e,r,d,n),u=e.memoizedState),(a=It||fu(e,r,a,n,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_d(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tt(e.type,a),o.props=c,h=e.pendingProps,m=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ye(u):(u=Ue(r)?dr:Ce.current,u=Gr(e,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==u)&&pu(e,o,n,u),It=!1,m=e.memoizedState,o.state=m,ii(e,n,o,s);var w=e.memoizedState;a!==h||m!==w||De.current||It?(typeof v=="function"&&(Yo(e,r,v,n),w=e.memoizedState),(c=It||fu(e,r,c,n,m,w,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return tl(t,e,r,n,i,s)}function tl(t,e,r,n,s,i){Kd(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&iu(e,r,!1),jt(t,e,i);n=e.stateNode,Yp.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Jr(e,t.child,null,i),e.child=Jr(e,null,a,i)):Pe(t,e,a,i),e.memoizedState=n.state,s&&iu(e,r,!0),e.child}function Gd(t){var e=t.stateNode;e.pendingContext?su(t,e.pendingContext,e.pendingContext!==e.context):e.context&&su(t,e.context,!1),Xl(t,e.containerInfo)}function _u(t,e,r,n,s){return Qr(),Vl(s),e.flags|=256,Pe(t,e,r,n),e.child}var rl={dehydrated:null,treeContext:null,retryLane:0};function nl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qd(t,e,r){var n=e.pendingProps,s=oe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),te(oe,s&1),t===null)return Qo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ti(o,n,0,null),t=cr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=nl(r),e.memoizedState=rl,t):oa(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Xp(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Kt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kt(a,i):(i=cr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?nl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=rl,n}return i=t.child,t=i.sibling,n=Kt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function oa(t,e){return e=Ti({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ks(t,e,r,n){return n!==null&&Vl(n),Jr(e,t.child,null,r),t=oa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=ao(Error(C(422))),ks(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ti({mode:"visible",children:n.children},s,0,null),i=cr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Jr(e,t.child,null,o),e.child.memoizedState=nl(o),e.memoizedState=rl,i);if(!(e.mode&1))return ks(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(C(419)),n=ao(i,n,void 0),ks(t,e,o,n)}if(a=(o&t.childLanes)!==0,$e||a){if(n=_e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(t,s),ot(n,t,s,-1))}return ha(),n=ao(Error(C(421))),ks(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=dm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Fe=qt(s.nextSibling),Be=e,ie=!0,st=null,t!==null&&(Ve[Ke++]=yt,Ve[Ke++]=xt,Ve[Ke++]=hr,yt=t.id,xt=t.overflow,hr=e),e=oa(e,n.children),e.flags|=4096,e)}function bu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Jo(t.return,e,r)}function uo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Jd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Pe(t,e,n.children,r),n=oe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bu(t,r,e);else if(t.tag===19)bu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(te(oe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&oi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),uo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}uo(e,!0,r,null,i);break;case"together":uo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ms(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),pr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,r=Kt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Kt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Zp(t,e,r){switch(e.tag){case 3:Gd(e),Qr();break;case 5:bd(e);break;case 1:Ue(e.type)&&ei(e);break;case 4:Xl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;te(ni,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(te(oe,oe.current&1),e.flags|=128,null):r&e.child.childLanes?Qd(t,e,r):(te(oe,oe.current&1),t=jt(t,e,r),t!==null?t.sibling:null);te(oe,oe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Jd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(oe,oe.current),n)break;return null;case 22:case 23:return e.lanes=0,Vd(t,e,r)}return jt(t,e,r)}var Yd,sl,Xd,Zd;Yd=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sl=function(){};Xd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ar(ft.current);var i=null;switch(r){case"input":s=No(t,s),n=No(t,n),i=[];break;case"select":s=ae({},s,{value:void 0}),n=ae({},n,{value:void 0}),i=[];break;case"textarea":s=To(t,s),n=To(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Xs)}Oo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ln.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ln.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&re("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Zd=function(t,e,r,n){r!==n&&(e.flags|=4)};function pn(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function em(t,e,r){var n=e.pendingProps;switch(Wl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return Ue(e.type)&&Zs(),Ne(e),null;case 3:return n=e.stateNode,Yr(),ne(De),ne(Ce),ea(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(_s(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(hl(st),st=null))),sl(t,e),Ne(e),null;case 5:Zl(e);var s=ar(Kn.current);if(r=e.type,t!==null&&e.stateNode!=null)Xd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(C(166));return Ne(e),null}if(t=ar(ft.current),_s(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[dt]=e,n[Wn]=i,t=(e.mode&1)!==0,r){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(s=0;s<_n.length;s++)re(_n[s],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":Oa(n,i),re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},re("invalid",n);break;case"textarea":Aa(n,i),re("invalid",n)}Oo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ws(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ws(n.textContent,a,t),s=["children",""+a]):Ln.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",n)}switch(r){case"input":hs(n),Ra(n,i,!0);break;case"textarea":hs(n),Ia(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Xs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ec(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[dt]=e,t[Wn]=n,Yd(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ro(r,n),r){case"dialog":re("cancel",t),re("close",t),s=n;break;case"iframe":case"object":case"embed":re("load",t),s=n;break;case"video":case"audio":for(s=0;s<_n.length;s++)re(_n[s],t);s=n;break;case"source":re("error",t),s=n;break;case"img":case"image":case"link":re("error",t),re("load",t),s=n;break;case"details":re("toggle",t),s=n;break;case"input":Oa(t,n),s=No(t,n),re("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ae({},n,{value:void 0}),re("invalid",t);break;case"textarea":Aa(t,n),s=To(t,n),re("invalid",t);break;default:s=n}Oo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Pc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Cc(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&$n(t,u):typeof u=="number"&&$n(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ln.hasOwnProperty(i)?u!=null&&i==="onScroll"&&re("scroll",t):u!=null&&Pl(t,i,u,o))}switch(r){case"input":hs(t),Ra(t,n,!1);break;case"textarea":hs(t),Ia(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Mr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Mr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Xs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(t&&e.stateNode!=null)Zd(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(C(166));if(r=ar(Kn.current),ar(ft.current),_s(e)){if(n=e.stateNode,r=e.memoizedProps,n[dt]=e,(i=n.nodeValue!==r)&&(t=Be,t!==null))switch(t.tag){case 3:ws(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ws(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dt]=e,e.stateNode=n}return Ne(e),null;case 13:if(ne(oe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&Fe!==null&&e.mode&1&&!(e.flags&128))vd(),Qr(),e.flags|=98560,i=!1;else if(i=_s(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[dt]=e}else Qr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),i=!1}else st!==null&&(hl(st),st=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?xe===0&&(xe=3):ha())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return Yr(),sl(t,e),t===null&&qn(e.stateNode.containerInfo),Ne(e),null;case 10:return Ql(e.type._context),Ne(e),null;case 17:return Ue(e.type)&&Zs(),Ne(e),null;case 19:if(ne(oe),i=e.memoizedState,i===null)return Ne(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)pn(i,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oi(t),o!==null){for(e.flags|=128,pn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return te(oe,oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&fe()>Zr&&(e.flags|=128,n=!0,pn(i,!1),e.lanes=4194304)}else{if(!n)if(t=oi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return Ne(e),null}else 2*fe()-i.renderingStartTime>Zr&&r!==1073741824&&(e.flags|=128,n=!0,pn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=fe(),e.sibling=null,r=oe.current,te(oe,n?r&1|2:r&1),e):(Ne(e),null);case 22:case 23:return da(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ze&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function tm(t,e){switch(Wl(e),e.tag){case 1:return Ue(e.type)&&Zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yr(),ne(De),ne(Ce),ea(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zl(e),null;case 13:if(ne(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Qr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ne(oe),null;case 4:return Yr(),null;case 10:return Ql(e.type._context),null;case 22:case 23:return da(),null;case 24:return null;default:return null}}var js=!1,Ee=!1,rm=typeof WeakSet=="function"?WeakSet:Set,A=null;function Dr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(t,e,n)}else r.current=null}function il(t,e,r){try{r()}catch(n){ce(t,e,n)}}var ku=!1;function nm(t,e){if(Bo=Qs,t=sd(),ql(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===r&&++c===s&&(a=o),m===i&&++d===n&&(u=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(qo={focusedElem:t,selectionRange:r},Qs=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,E=w.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:tt(e.type,b),E);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(y){ce(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return w=ku,ku=!1,w}function Tn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&il(e,r,i)}s=s.next}while(s!==n)}}function Ei(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ol(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function eh(t){var e=t.alternate;e!==null&&(t.alternate=null,eh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dt],delete e[Wn],delete e[Vo],delete e[Mp],delete e[zp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function th(t){return t.tag===5||t.tag===3||t.tag===4}function ju(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||th(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ll(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Xs));else if(n!==4&&(t=t.child,t!==null))for(ll(t,e,r),t=t.sibling;t!==null;)ll(t,e,r),t=t.sibling}function al(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(al(t,e,r),t=t.sibling;t!==null;)al(t,e,r),t=t.sibling}var be=null,rt=!1;function Pt(t,e,r){for(r=r.child;r!==null;)rh(t,e,r),r=r.sibling}function rh(t,e,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(xi,r)}catch{}switch(r.tag){case 5:Ee||Dr(r,e);case 6:var n=be,s=rt;be=null,Pt(t,e,r),be=n,rt=s,be!==null&&(rt?(t=be,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(rt?(t=be,r=r.stateNode,t.nodeType===8?ro(t.parentNode,r):t.nodeType===1&&ro(t,r),zn(t)):ro(be,r.stateNode));break;case 4:n=be,s=rt,be=r.stateNode.containerInfo,rt=!0,Pt(t,e,r),be=n,rt=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&il(r,e,o),s=s.next}while(s!==n)}Pt(t,e,r);break;case 1:if(!Ee&&(Dr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ce(r,e,a)}Pt(t,e,r);break;case 21:Pt(t,e,r);break;case 22:r.mode&1?(Ee=(n=Ee)||r.memoizedState!==null,Pt(t,e,r),Ee=n):Pt(t,e,r);break;default:Pt(t,e,r)}}function Su(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new rm),e.forEach(function(n){var s=hm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ze(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,rt=!1;break e;case 3:be=a.stateNode.containerInfo,rt=!0;break e;case 4:be=a.stateNode.containerInfo,rt=!0;break e}a=a.return}if(be===null)throw Error(C(160));rh(i,o,s),be=null,rt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ce(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nh(e,t),e=e.sibling}function nh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),at(t),n&4){try{Tn(3,t,t.return),Ei(3,t)}catch(b){ce(t,t.return,b)}try{Tn(5,t,t.return)}catch(b){ce(t,t.return,b)}}break;case 1:Ze(e,t),at(t),n&512&&r!==null&&Dr(r,r.return);break;case 5:if(Ze(e,t),at(t),n&512&&r!==null&&Dr(r,r.return),t.flags&32){var s=t.stateNode;try{$n(s,"")}catch(b){ce(t,t.return,b)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Sc(s,i),Ro(a,o);var c=Ro(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?Pc(s,h):d==="dangerouslySetInnerHTML"?Cc(s,h):d==="children"?$n(s,h):Pl(s,d,h,c)}switch(a){case"input":Eo(s,i);break;case"textarea":Nc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Mr(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Mr(s,!!i.multiple,i.defaultValue,!0):Mr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wn]=i}catch(b){ce(t,t.return,b)}}break;case 6:if(Ze(e,t),at(t),n&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){ce(t,t.return,b)}}break;case 3:if(Ze(e,t),at(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zn(e.containerInfo)}catch(b){ce(t,t.return,b)}break;case 4:Ze(e,t),at(t);break;case 13:Ze(e,t),at(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ua=fe())),n&4&&Su(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ee=(c=Ee)||d,Ze(e,t),Ee=c):Ze(e,t),at(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(A=t,d=t.child;d!==null;){for(h=A=d;A!==null;){switch(m=A,v=m.child,m.tag){case 0:case 11:case 14:case 15:Tn(4,m,m.return);break;case 1:Dr(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){ce(n,r,b)}}break;case 5:Dr(m,m.return);break;case 22:if(m.memoizedState!==null){Eu(h);continue}}v!==null?(v.return=m,A=v):Eu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Tc("display",o))}catch(b){ce(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){ce(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ze(e,t),at(t),n&4&&Su(t);break;case 21:break;default:Ze(e,t),at(t)}}function at(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(th(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&($n(s,""),n.flags&=-33);var i=ju(t);al(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ju(t);ll(t,a,o);break;default:throw Error(C(161))}}catch(u){ce(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sm(t,e,r){A=t,sh(t)}function sh(t,e,r){for(var n=(t.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||js;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Ee;a=js;var c=Ee;if(js=o,(Ee=u)&&!c)for(A=s;A!==null;)o=A,u=o.child,o.tag===22&&o.memoizedState!==null?Cu(s):u!==null?(u.return=o,A=u):Cu(s);for(;i!==null;)A=i,sh(i),i=i.sibling;A=s,js=a,Ee=c}Nu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Nu(t)}}function Nu(t){for(;A!==null;){var e=A;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ee||Ei(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ee)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:tt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ee||e.flags&512&&ol(e)}catch(m){ce(e,e.return,m)}}if(e===t){A=null;break}if(r=e.sibling,r!==null){r.return=e.return,A=r;break}A=e.return}}function Eu(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var r=e.sibling;if(r!==null){r.return=e.return,A=r;break}A=e.return}}function Cu(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ei(4,e)}catch(u){ce(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){ce(e,s,u)}}var i=e.return;try{ol(e)}catch(u){ce(e,i,u)}break;case 5:var o=e.return;try{ol(e)}catch(u){ce(e,o,u)}}}catch(u){ce(e,e.return,u)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var im=Math.ceil,ui=St.ReactCurrentDispatcher,la=St.ReactCurrentOwner,Qe=St.ReactCurrentBatchConfig,Q=0,_e=null,pe=null,ke=0,ze=0,Ur=Yt(0),xe=0,Yn=null,pr=0,Ci=0,aa=0,Pn=null,Ie=null,ua=0,Zr=1/0,mt=null,ci=!1,ul=null,Wt=null,Ss=!1,Mt=null,di=0,On=0,cl=null,zs=-1,Fs=0;function Oe(){return Q&6?fe():zs!==-1?zs:zs=fe()}function Vt(t){return t.mode&1?Q&2&&ke!==0?ke&-ke:Bp.transition!==null?(Fs===0&&(Fs=Bc()),Fs):(t=X,t!==0||(t=window.event,t=t===void 0?16:Qc(t.type)),t):1}function ot(t,e,r,n){if(50<On)throw On=0,cl=null,Error(C(185));ts(t,r,n),(!(Q&2)||t!==_e)&&(t===_e&&(!(Q&2)&&(Ci|=r),xe===4&&$t(t,ke)),Me(t,n),r===1&&Q===0&&!(e.mode&1)&&(Zr=fe()+500,ji&&Xt()))}function Me(t,e){var r=t.callbackNode;Bf(t,e);var n=Gs(t,t===_e?ke:0);if(n===0)r!==null&&Da(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Da(r),e===1)t.tag===0?Fp(Tu.bind(null,t)):pd(Tu.bind(null,t)),Dp(function(){!(Q&6)&&Xt()}),r=null;else{switch(qc(n)){case 1:r=Ll;break;case 4:r=zc;break;case 16:r=Ks;break;case 536870912:r=Fc;break;default:r=Ks}r=hh(r,ih.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ih(t,e){if(zs=-1,Fs=0,Q&6)throw Error(C(327));var r=t.callbackNode;if(Hr()&&t.callbackNode!==r)return null;var n=Gs(t,t===_e?ke:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=hi(t,n);else{e=n;var s=Q;Q|=2;var i=lh();(_e!==t||ke!==e)&&(mt=null,Zr=fe()+500,ur(t,e));do try{am();break}catch(a){oh(t,a)}while(!0);Gl(),ui.current=i,Q=s,pe!==null?e=0:(_e=null,ke=0,e=xe)}if(e!==0){if(e===2&&(s=Do(t),s!==0&&(n=s,e=dl(t,s))),e===1)throw r=Yn,ur(t,0),$t(t,n),Me(t,fe()),r;if(e===6)$t(t,n);else{if(s=t.current.alternate,!(n&30)&&!om(s)&&(e=hi(t,n),e===2&&(i=Do(t),i!==0&&(n=i,e=dl(t,i))),e===1))throw r=Yn,ur(t,0),$t(t,n),Me(t,fe()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(C(345));case 2:nr(t,Ie,mt);break;case 3:if($t(t,n),(n&130023424)===n&&(e=ua+500-fe(),10<e)){if(Gs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Oe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wo(nr.bind(null,t,Ie,mt),e);break}nr(t,Ie,mt);break;case 4:if($t(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-it(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*im(n/1960))-n,10<n){t.timeoutHandle=Wo(nr.bind(null,t,Ie,mt),n);break}nr(t,Ie,mt);break;case 5:nr(t,Ie,mt);break;default:throw Error(C(329))}}}return Me(t,fe()),t.callbackNode===r?ih.bind(null,t):null}function dl(t,e){var r=Pn;return t.current.memoizedState.isDehydrated&&(ur(t,e).flags|=256),t=hi(t,e),t!==2&&(e=Ie,Ie=r,e!==null&&hl(e)),t}function hl(t){Ie===null?Ie=t:Ie.push.apply(Ie,t)}function om(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!lt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $t(t,e){for(e&=~aa,e&=~Ci,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-it(e),n=1<<r;t[r]=-1,e&=~n}}function Tu(t){if(Q&6)throw Error(C(327));Hr();var e=Gs(t,0);if(!(e&1))return Me(t,fe()),null;var r=hi(t,e);if(t.tag!==0&&r===2){var n=Do(t);n!==0&&(e=n,r=dl(t,n))}if(r===1)throw r=Yn,ur(t,0),$t(t,e),Me(t,fe()),r;if(r===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nr(t,Ie,mt),Me(t,fe()),null}function ca(t,e){var r=Q;Q|=1;try{return t(e)}finally{Q=r,Q===0&&(Zr=fe()+500,ji&&Xt())}}function mr(t){Mt!==null&&Mt.tag===0&&!(Q&6)&&Hr();var e=Q;Q|=1;var r=Qe.transition,n=X;try{if(Qe.transition=null,X=1,t)return t()}finally{X=n,Qe.transition=r,Q=e,!(Q&6)&&Xt()}}function da(){ze=Ur.current,ne(Ur)}function ur(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$p(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(Wl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zs();break;case 3:Yr(),ne(De),ne(Ce),ea();break;case 5:Zl(n);break;case 4:Yr();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:Ql(n.type._context);break;case 22:case 23:da()}r=r.return}if(_e=t,pe=t=Kt(t.current,null),ke=ze=e,xe=0,Yn=null,aa=Ci=pr=0,Ie=Pn=null,lr!==null){for(e=0;e<lr.length;e++)if(r=lr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}lr=null}return t}function oh(t,e){do{var r=pe;try{if(Gl(),Ds.current=ai,li){for(var n=le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}li=!1}if(fr=0,we=ye=le=null,Cn=!1,Gn=0,la.current=null,r===null||r.return===null){xe=1,Yn=e,pe=null;break}e:{var i=t,o=r.return,a=r,u=e;if(e=ke,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=gu(o);if(v!==null){v.flags&=-257,vu(v,o,a,i,e),v.mode&1&&mu(i,c,e),e=v,u=c;var w=e.updateQueue;if(w===null){var b=new Set;b.add(u),e.updateQueue=b}else w.add(u);break e}else{if(!(e&1)){mu(i,c,e),ha();break e}u=Error(C(426))}}else if(ie&&a.mode&1){var E=gu(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),vu(E,o,a,i,e),Vl(Xr(u,a));break e}}i=u=Xr(u,a),xe!==4&&(xe=2),Pn===null?Pn=[i]:Pn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=qd(i,u,e);uu(i,g);break e;case 1:a=u;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Wt===null||!Wt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Hd(i,a,e);uu(i,y);break e}}i=i.return}while(i!==null)}uh(r)}catch(S){e=S,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function lh(){var t=ui.current;return ui.current=ai,t===null?ai:t}function ha(){(xe===0||xe===3||xe===2)&&(xe=4),_e===null||!(pr&268435455)&&!(Ci&268435455)||$t(_e,ke)}function hi(t,e){var r=Q;Q|=2;var n=lh();(_e!==t||ke!==e)&&(mt=null,ur(t,e));do try{lm();break}catch(s){oh(t,s)}while(!0);if(Gl(),Q=r,ui.current=n,pe!==null)throw Error(C(261));return _e=null,ke=0,xe}function lm(){for(;pe!==null;)ah(pe)}function am(){for(;pe!==null&&!Af();)ah(pe)}function ah(t){var e=dh(t.alternate,t,ze);t.memoizedProps=t.pendingProps,e===null?uh(t):pe=e,la.current=null}function uh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=tm(r,e),r!==null){r.flags&=32767,pe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,pe=null;return}}else if(r=em(r,e,ze),r!==null){pe=r;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);xe===0&&(xe=5)}function nr(t,e,r){var n=X,s=Qe.transition;try{Qe.transition=null,X=1,um(t,e,r,n)}finally{Qe.transition=s,X=n}return null}function um(t,e,r,n){do Hr();while(Mt!==null);if(Q&6)throw Error(C(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(qf(t,i),t===_e&&(pe=_e=null,ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ss||(Ss=!0,hh(Ks,function(){return Hr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var o=X;X=1;var a=Q;Q|=4,la.current=null,nm(t,r),nh(r,t),Tp(qo),Qs=!!Bo,qo=Bo=null,t.current=r,sm(r),If(),Q=a,X=o,Qe.transition=i}else t.current=r;if(Ss&&(Ss=!1,Mt=t,di=s),i=t.pendingLanes,i===0&&(Wt=null),Df(r.stateNode),Me(t,fe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ci)throw ci=!1,t=ul,ul=null,t;return di&1&&t.tag!==0&&Hr(),i=t.pendingLanes,i&1?t===cl?On++:(On=0,cl=t):On=0,Xt(),null}function Hr(){if(Mt!==null){var t=qc(di),e=Qe.transition,r=X;try{if(Qe.transition=null,X=16>t?16:t,Mt===null)var n=!1;else{if(t=Mt,Mt=null,di=0,Q&6)throw Error(C(331));var s=Q;for(Q|=4,A=t.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(A=c;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:Tn(8,d,i)}var h=d.child;if(h!==null)h.return=d,A=h;else for(;A!==null;){d=A;var m=d.sibling,v=d.return;if(eh(d),d===c){A=null;break}if(m!==null){m.return=v,A=m;break}A=v}}}var w=i.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,A=g;break e}A=i.return}}var f=t.current;for(A=f;A!==null;){o=A;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,A=p;else e:for(o=f;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ei(9,a)}}catch(S){ce(a,a.return,S)}if(a===o){A=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,A=y;break e}A=a.return}}if(Q=s,Xt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(xi,t)}catch{}n=!0}return n}finally{X=r,Qe.transition=e}}return!1}function Pu(t,e,r){e=Xr(r,e),e=qd(t,e,1),t=Ht(t,e,1),e=Oe(),t!==null&&(ts(t,1,e),Me(t,e))}function ce(t,e,r){if(t.tag===3)Pu(t,t,r);else for(;e!==null;){if(e.tag===3){Pu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wt===null||!Wt.has(n))){t=Xr(r,t),t=Hd(e,t,1),e=Ht(e,t,1),t=Oe(),e!==null&&(ts(e,1,t),Me(e,t));break}}e=e.return}}function cm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&r,_e===t&&(ke&r)===r&&(xe===4||xe===3&&(ke&130023424)===ke&&500>fe()-ua?ur(t,0):aa|=r),Me(t,e)}function ch(t,e){e===0&&(t.mode&1?(e=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):e=1);var r=Oe();t=kt(t,e),t!==null&&(ts(t,e,r),Me(t,r))}function dm(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ch(t,r)}function hm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(e),ch(t,r)}var dh;dh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||De.current)$e=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return $e=!1,Zp(t,e,r);$e=!!(t.flags&131072)}else $e=!1,ie&&e.flags&1048576&&md(e,ri,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ms(t,e),t=e.pendingProps;var s=Gr(e,Ce.current);qr(e,r),s=ra(null,e,n,t,s,r);var i=na();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(n)?(i=!0,ei(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yl(e),s.updater=Ni,e.stateNode=s,s._reactInternals=e,Xo(e,n,t,r),e=tl(null,e,n,!0,i,r)):(e.tag=0,ie&&i&&Hl(e),Pe(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ms(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=pm(n),t=tt(n,t),s){case 0:e=el(null,e,n,t,r);break e;case 1:e=wu(null,e,n,t,r);break e;case 11:e=yu(null,e,n,t,r);break e;case 14:e=xu(null,e,n,tt(n.type,t),r);break e}throw Error(C(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),el(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),wu(t,e,n,s,r);case 3:e:{if(Gd(e),t===null)throw Error(C(387));n=e.pendingProps,i=e.memoizedState,s=i.element,_d(t,e),ii(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xr(Error(C(423)),e),e=_u(t,e,n,r,s);break e}else if(n!==s){s=Xr(Error(C(424)),e),e=_u(t,e,n,r,s);break e}else for(Fe=qt(e.stateNode.containerInfo.firstChild),Be=e,ie=!0,st=null,r=xd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qr(),n===s){e=jt(t,e,r);break e}Pe(t,e,n,r)}e=e.child}return e;case 5:return bd(e),t===null&&Qo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ho(n,s)?o=null:i!==null&&Ho(n,i)&&(e.flags|=32),Kd(t,e),Pe(t,e,o,r),e.child;case 6:return t===null&&Qo(e),null;case 13:return Qd(t,e,r);case 4:return Xl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Jr(e,null,n,r):Pe(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),yu(t,e,n,s,r);case 7:return Pe(t,e,e.pendingProps,r),e.child;case 8:return Pe(t,e,e.pendingProps.children,r),e.child;case 12:return Pe(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,te(ni,n._currentValue),n._currentValue=o,i!==null)if(lt(i.value,o)){if(i.children===s.children&&!De.current){e=jt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=wt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Jo(i.return,r,e),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Jo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pe(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,qr(e,r),s=Ye(s),n=n(s),e.flags|=1,Pe(t,e,n,r),e.child;case 14:return n=e.type,s=tt(n,e.pendingProps),s=tt(n.type,s),xu(t,e,n,s,r);case 15:return Wd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),Ms(t,e),e.tag=1,Ue(n)?(t=!0,ei(e)):t=!1,qr(e,r),Bd(e,n,s),Xo(e,n,s,r),tl(null,e,n,!0,t,r);case 19:return Jd(t,e,r);case 22:return Vd(t,e,r)}throw Error(C(156,e.tag))};function hh(t,e){return Mc(t,e)}function fm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,r,n){return new fm(t,e,r,n)}function fa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pm(t){if(typeof t=="function")return fa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rl)return 11;if(t===Al)return 14}return 2}function Kt(t,e){var r=t.alternate;return r===null?(r=Ge(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Bs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")fa(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cr:return cr(r.children,s,i,e);case Ol:o=8,s|=8;break;case bo:return t=Ge(12,r,e,s|2),t.elementType=bo,t.lanes=i,t;case ko:return t=Ge(13,r,e,s),t.elementType=ko,t.lanes=i,t;case jo:return t=Ge(19,r,e,s),t.elementType=jo,t.lanes=i,t;case bc:return Ti(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wc:o=10;break e;case _c:o=9;break e;case Rl:o=11;break e;case Al:o=14;break e;case At:o=16,n=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Ge(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function cr(t,e,r,n){return t=Ge(7,t,n,e),t.lanes=r,t}function Ti(t,e,r,n){return t=Ge(22,t,n,e),t.elementType=bc,t.lanes=r,t.stateNode={isHidden:!1},t}function co(t,e,r){return t=Ge(6,t,null,e),t.lanes=r,t}function ho(t,e,r){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wi(0),this.expirationTimes=Wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pa(t,e,r,n,s,i,o,a,u){return t=new mm(t,e,r,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ge(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yl(i),t}function gm(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function fh(t){if(!t)return Qt;t=t._reactInternals;e:{if(vr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ue(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var r=t.type;if(Ue(r))return fd(t,r,e)}return e}function ph(t,e,r,n,s,i,o,a,u){return t=pa(r,n,!0,t,s,i,o,a,u),t.context=fh(null),r=t.current,n=Oe(),s=Vt(r),i=wt(n,s),i.callback=e??null,Ht(r,i,s),t.current.lanes=s,ts(t,s,n),Me(t,n),t}function Pi(t,e,r,n){var s=e.current,i=Oe(),o=Vt(s);return r=fh(r),e.context===null?e.context=r:e.pendingContext=r,e=wt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ht(s,e,o),t!==null&&(ot(t,s,o,i),$s(t,s,o)),o}function fi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ou(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ma(t,e){Ou(t,e),(t=t.alternate)&&Ou(t,e)}function vm(){return null}var mh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ga(t){this._internalRoot=t}Oi.prototype.render=ga.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Pi(t,e,null,null)};Oi.prototype.unmount=ga.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mr(function(){Pi(null,t,null,null)}),e[bt]=null}};function Oi(t){this._internalRoot=t}Oi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Lt.length&&e!==0&&e<Lt[r].priority;r++);Lt.splice(r,0,t),r===0&&Gc(t)}};function va(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ri(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ru(){}function ym(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=fi(o);i.call(c)}}var o=ph(e,n,t,0,null,!1,!1,"",Ru);return t._reactRootContainer=o,t[bt]=o.current,qn(t.nodeType===8?t.parentNode:t),mr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=fi(u);a.call(c)}}var u=pa(t,0,!1,null,null,!1,!1,"",Ru);return t._reactRootContainer=u,t[bt]=u.current,qn(t.nodeType===8?t.parentNode:t),mr(function(){Pi(e,u,r,n)}),u}function Ai(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=fi(o);a.call(u)}}Pi(e,o,t,s)}else o=ym(r,e,t,s,n);return fi(o)}Hc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=wn(e.pendingLanes);r!==0&&($l(e,r|1),Me(e,fe()),!(Q&6)&&(Zr=fe()+500,Xt()))}break;case 13:mr(function(){var n=kt(t,1);if(n!==null){var s=Oe();ot(n,t,1,s)}}),ma(t,1)}};Dl=function(t){if(t.tag===13){var e=kt(t,134217728);if(e!==null){var r=Oe();ot(e,t,134217728,r)}ma(t,134217728)}};Wc=function(t){if(t.tag===13){var e=Vt(t),r=kt(t,e);if(r!==null){var n=Oe();ot(r,t,e,n)}ma(t,e)}};Vc=function(){return X};Kc=function(t,e){var r=X;try{return X=t,e()}finally{X=r}};Io=function(t,e,r){switch(e){case"input":if(Eo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ki(n);if(!s)throw Error(C(90));jc(n),Eo(n,s)}}}break;case"textarea":Nc(t,r);break;case"select":e=r.value,e!=null&&Mr(t,!!r.multiple,e,!1)}};Ac=ca;Ic=mr;var xm={usingClientEntryPoint:!1,Events:[ns,Rr,ki,Oc,Rc,ca]},mn={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wm={bundleType:mn.bundleType,version:mn.version,rendererPackageName:mn.rendererPackageName,rendererConfig:mn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dc(t),t===null?null:t.stateNode},findFiberByHostInstance:mn.findFiberByHostInstance||vm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{xi=Ns.inject(wm),ht=Ns}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm;He.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!va(e))throw Error(C(200));return gm(t,e,null,r)};He.createRoot=function(t,e){if(!va(t))throw Error(C(299));var r=!1,n="",s=mh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pa(t,1,!1,null,null,r,!1,n,s),t[bt]=e.current,qn(t.nodeType===8?t.parentNode:t),new ga(e)};He.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Dc(e),t=t===null?null:t.stateNode,t};He.flushSync=function(t){return mr(t)};He.hydrate=function(t,e,r){if(!Ri(e))throw Error(C(200));return Ai(null,t,e,!0,r)};He.hydrateRoot=function(t,e,r){if(!va(t))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=mh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=ph(e,null,t,1,r??null,s,!1,i,o),t[bt]=e.current,qn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Oi(e)};He.render=function(t,e,r){if(!Ri(e))throw Error(C(200));return Ai(null,t,e,!1,r)};He.unmountComponentAtNode=function(t){if(!Ri(t))throw Error(C(40));return t._reactRootContainer?(mr(function(){Ai(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};He.unstable_batchedUpdates=ca;He.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ri(r))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Ai(t,e,r,!1,n)};He.version="18.3.1-next-f1338f8080-20240426";function gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gh)}catch(t){console.error(t)}}gh(),gc.exports=He;var _m=gc.exports,vh,Au=_m;vh=Au.createRoot,Au.hydrateRoot;const bm="modulepreload",km=function(t){return"/"+t},Iu={},is=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=km(u),u in Iu)return;Iu[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bm,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},jm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>is(async()=>{const{default:n}=await Promise.resolve().then(()=>on);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ya extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Sm extends ya{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Lu extends ya{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $u extends ya{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fl||(fl={}));var Nm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class Em{constructor(e,{headers:r={},customFetch:n,region:s=fl.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=jm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Nm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(b=>{throw new Sm(b)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new Lu(h);if(!h.ok)throw new $u(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof $u||s instanceof Lu?s.context:void 0}}})}}var Le={},xa={},Ii={},os={},Li={},$i={},Cm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},en=Cm();const Tm=en.fetch,yh=en.fetch.bind(en),xh=en.Headers,Pm=en.Request,Om=en.Response,on=Object.freeze(Object.defineProperty({__proto__:null,Headers:xh,Request:Pm,Response:Om,default:yh,fetch:Tm},Symbol.toStringTag,{value:"Module"})),Rm=Gh(on);var Di={};Object.defineProperty(Di,"__esModule",{value:!0});let Am=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Di.default=Am;var wh=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});const Im=wh(Rm),Lm=wh(Di);let $m=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Im.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u,c;let d=null,h=null,m=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const E=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");E&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,v=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const E=await i.text();try{d=JSON.parse(E),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,w="OK")}catch{i.status===404&&E===""?(v=204,w="No Content"):d={message:E}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&this.shouldThrowOnError)throw new Lm.default(d)}return{error:d,data:h,count:m,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};$i.default=$m;var Dm=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const Um=Dm($i);let Mm=class extends Um.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Li.default=Mm;var zm=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});const Fm=zm(Li);let Bm=class extends Fm.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};os.default=Bm;var qm=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});const gn=qm(os);let Hm=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new gn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new gn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new gn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new gn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new gn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ii.default=Hm;var _h=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xa,"__esModule",{value:!0});const Wm=_h(Ii),Vm=_h(os);let Km=class bh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Wm.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const u=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{u.searchParams.append(h,m)})):(a="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Vm.default({method:a,url:u,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};xa.default=Km;var ln=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const kh=ln(xa);Le.PostgrestClient=kh.default;const jh=ln(Ii);Le.PostgrestQueryBuilder=jh.default;const Sh=ln(os);Le.PostgrestFilterBuilder=Sh.default;const Nh=ln(Li);Le.PostgrestTransformBuilder=Nh.default;const Eh=ln($i);Le.PostgrestBuilder=Eh.default;const Ch=ln(Di);Le.PostgrestError=Ch.default;var Gm=Le.default={PostgrestClient:kh.default,PostgrestQueryBuilder:jh.default,PostgrestFilterBuilder:Sh.default,PostgrestTransformBuilder:Nh.default,PostgrestBuilder:Eh.default,PostgrestError:Ch.default};const{PostgrestClient:Qm,PostgrestQueryBuilder:_v,PostgrestFilterBuilder:bv,PostgrestTransformBuilder:kv,PostgrestBuilder:jv,PostgrestError:Sv}=Gm;class Jm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ym="2.15.5",Xm=`realtime-js/${Ym}`,Zm="1.0.0",pl=1e4,e0=1e3,t0=100;var Rn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Rn||(Rn={}));var ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ge||(ge={}));var nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nt||(nt={}));var ml;(function(t){t.websocket="websocket"})(ml||(ml={}));var ir;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ir||(ir={}));class r0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const u=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class Th{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ee||(ee={}));const Du=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=n0(o,t,e,s),i),{})},n0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Ph(i,o):gl(o)},Ph=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return l0(e,r)}switch(t){case ee.bool:return s0(e);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return i0(e);case ee.json:case ee.jsonb:return o0(e);case ee.timestamp:return a0(e);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return gl(e);default:return gl(e)}},gl=t=>t,s0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},i0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},o0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},l0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ph(e,a))}return t},a0=t=>typeof t=="string"?t.replace(" ","T"):t,Oh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class fo{constructor(e,r,n={},s=pl){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Uu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Uu||(Uu={}));class An{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=An.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=An.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=An.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(E=>E.presence_ref),v=h.map(E=>E.presence_ref),w=d.filter(E=>v.indexOf(E.presence_ref)<0),b=h.filter(E=>m.indexOf(E.presence_ref)<0);w.length>0&&(a[c]=w),b.length>0&&(u[c]=b)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),d.length>0){const h=e[a].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...m)}n(a,d,u)}),this.map(o,(a,u)=>{let c=e[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,u),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Mu||(Mu={}));var In;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(In||(In={}));var gt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class wa{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fo(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Th(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new An(this),this.broadcastEndpointURL=Oh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ge.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[In.PRESENCE]&&this.bindings[In.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(gt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(gt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,E=(w=b==null?void 0:b.length)!==null&&w!==void 0?w:0,g=[];for(let f=0;f<E;f++){const p=b[f],{filter:{event:y,schema:S,table:x,filter:j}}=p,R=v&&v[f];if(R&&R.event===y&&R.schema===S&&R.table===x&&R.filter===j)g.push(Object.assign(Object.assign({},p),{id:R.id}));else{this.unsubscribe(),this.state=ge.errored,e==null||e(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(gt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ge.errored,e==null||e(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ge.joined&&e===In.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new fo(this,nt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ge.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>t0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=nt;if(n&&[a,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,b,E;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(b=v.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(v=>v.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,b,E,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,S=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((b=r.ids)===null||b===void 0?void 0:b.includes(y))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const y=(f=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return y==="*"||y===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:b,table:E,commit_timestamp:g,type:f,errors:p}=w;m=Object.assign(Object.assign({},{schema:b,table:E,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(w))}v.callback(m,n)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&wa.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nt.close,{},e)}_onError(e){this._on(nt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Du(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Du(e.columns,e.old_record)),r}}const po=()=>{},Es={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},u0=[1e3,2e3,5e3,1e4],c0=1e4,d0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pl,this.transport=null,this.heartbeatIntervalMs=Es.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=po,this.ref=0,this.reconnectTimer=null,this.logger=po,this.conn=null,this.sendBuffer=[],this.serializer=new r0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>is(async()=>{const{default:a}=await Promise.resolve().then(()=>on);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ml.websocket}`,this.httpEndpoint=Oh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zm}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Rn.connecting:return ir.Connecting;case Rn.open:return ir.Open;case Rn.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new wa(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(e0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Es.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([d0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Xm};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(nt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Th(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Es.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,u,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:pl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Es.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:po,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>u0[h-1]||c0,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class _a extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ve(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class f0 extends _a{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vl extends _a{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var p0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const Rh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>is(async()=>{const{default:n}=await Promise.resolve().then(()=>on);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},m0=()=>p0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield is(()=>Promise.resolve().then(()=>on),void 0)).Response:Response}),yl=t=>{if(Array.isArray(t))return t.map(r=>yl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=yl(n)}),e},g0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var yr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const mo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),v0=(t,e,r)=>yr(void 0,void 0,void 0,function*(){const n=yield m0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new f0(mo(s),i,o))}).catch(s=>{e(new vl(mo(s),s))}):e(new vl(mo(t),t))}),y0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(g0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ls(t,e,r,n,s,i){return yr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,y0(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>v0(u,a,n))})})}function pi(t,e,r,n){return yr(this,void 0,void 0,function*(){return ls(t,"GET",e,r,n)})}function ct(t,e,r,n,s){return yr(this,void 0,void 0,function*(){return ls(t,"POST",e,n,s,r)})}function xl(t,e,r,n,s){return yr(this,void 0,void 0,function*(){return ls(t,"PUT",e,n,s,r)})}function x0(t,e,r,n){return yr(this,void 0,void 0,function*(){return ls(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ah(t,e,r,n,s){return yr(this,void 0,void 0,function*(){return ls(t,"DELETE",e,n,s,r)})}var Te=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const w0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _0{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Rh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Te(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},zu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?xl:ct)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:zu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield xl(this.fetch,a.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ve(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return Te(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ct(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new _a("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}update(e,r,n){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Te(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ct(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Te(this,void 0,void 0,function*(){try{const s=yield ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}download(e,r){return Te(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield pi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ve(a))return{data:null,error:a};throw a}})}info(e){return Te(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield pi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}exists(e){return Te(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield x0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n)&&n instanceof vl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}list(e,r,n){return Te(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},w0),r),{prefix:e||""});return{data:yield ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}listV2(e,r){return Te(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const b0="2.12.1",k0={"X-Client-Info":`storage-js/${b0}`};var wr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class j0{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},k0),r),this.fetch=Rh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return wr(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ve(e))return{data:null,error:e};throw e}})}getBucket(e){return wr(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return wr(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return wr(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}emptyBucket(e){return wr(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}deleteBucket(e){return wr(this,void 0,void 0,function*(){try{return{data:yield Ah(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}}class S0 extends j0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new _0(this.url,this.headers,e,this.fetch)}}const N0="2.57.4";let bn="";typeof Deno<"u"?bn="deno":typeof document<"u"?bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bn="react-native":bn="node";const E0={"X-Client-Info":`supabase-js-${bn}/${N0}`},C0={headers:E0},T0={schema:"public"},P0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O0={};var R0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const A0=t=>{let e;return t?e=t:typeof fetch>"u"?e=yh:e=fetch,(...r)=>e(...r)},I0=()=>typeof Headers>"u"?xh:Headers,L0=(t,e,r)=>{const n=A0(r),s=I0();return(i,o)=>R0(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var $0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};function D0(t){return t.endsWith("/")?t:t+"/"}function U0(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:u,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>$0(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function M0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ih="2.71.1",Sr=30*1e3,wl=3,go=wl*Sr,z0="http://localhost:9999",F0="supabase.auth.token",B0={"X-Client-Info":`gotrue-js/${Ih}`},_l="X-Supabase-Api-Version",Lh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H0=10*60*1e3;class ba extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class W0 extends ba{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function V0(t){return q(t)&&t.name==="AuthApiError"}class $h extends ba{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Zt extends ba{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Rt extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function K0(t){return q(t)&&t.name==="AuthSessionMissingError"}class Cs extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ts extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ps extends Zt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G0(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Fu extends Zt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bl extends Zt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function vo(t){return q(t)&&t.name==="AuthRetryableFetchError"}class Bu extends Zt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class kl extends Zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qu=` 	
\r=`.split(""),Q0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qu.length;e+=1)t[qu[e].charCodeAt(0)]=-2;for(let e=0;e<mi.length;e+=1)t[mi[e].charCodeAt(0)]=e;return t})();function Hu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(mi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(mi[n]),e.queuedBits-=6}}function Dh(t,e,r){const n=Q0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{X0(o,n,r)};for(let o=0;o<t.length;o+=1)Dh(t.charCodeAt(o),s,i);return e.join("")}function J0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Y0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}J0(n,e)}}function X0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Z0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Dh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function eg(t){const e=[];return Y0(t,r=>e.push(r)),new Uint8Array(e)}function tg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Hu(s,r,n)),Hu(null,r,n),e.join("")}function rg(t){return Math.round(Date.now()/1e3)+t}function ng(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},Uh=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(er.tested)return er.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),er.tested=!0,er.writable=!0}catch{er.tested=!0,er.writable=!1}return er.writable};function sg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Mh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>is(async()=>{const{default:n}=await Promise.resolve().then(()=>on);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ig=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},tr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ot=async(t,e)=>{await t.removeItem(e)};class Ui{constructor(){this.promise=new Ui.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ui.promiseConstructor=Promise;function yo(t){const e=t.split(".");if(e.length!==3)throw new kl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!q0.test(e[n]))throw new kl("JWT not in base64url format");return{header:JSON.parse(Wu(e[0])),payload:JSON.parse(Wu(e[1])),signature:Z0(e[2]),raw:{header:e[0],payload:e[1]}}}async function og(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lg(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ag(t){return("0"+t.toString(16)).substr(-2)}function ug(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ag).join("")}async function cg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function dg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await cg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(t,e,r=!1){const n=ug();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Nr(t,`${e}-code-verifier`,s);const i=await dg(n);return[i,n===i?"plain":"s256"]}const hg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fg(t){const e=t.headers.get(_l);if(!e||!e.match(hg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function br(t){if(!gg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vu(t){return JSON.parse(JSON.stringify(t))}var vg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yg=[502,503,504];async function Ku(t){var e;if(!ig(t))throw new bl(sr(t),0);if(yg.includes(t.status))throw new bl(sr(t),t.status);let r;try{r=await t.json()}catch(i){throw new $h(sr(i),i)}let n;const s=fg(t);if(s&&s.getTime()>=Lh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bu(sr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Bu(sr(r),t.status,r.weak_password.reasons);throw new W0(sr(r),t.status||500,n)}const xg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function W(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[_l]||(i[_l]=Lh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await wg(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function wg(t,e,r,n,s,i){const o=xg(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new bl(sr(u),0)}if(a.ok||await Ku(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Ku(u)}}function pt(t){var e;let r=null;jg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=rg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Gu(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _g(t){return{data:t,error:null}}function bg(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=vg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function kg(t){return t}function jg(t){return t.access_token&&t.refresh_token&&t.expires_in}const wo=["global","local","others"];var Sg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Ng{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Mh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=wo[0]){if(wo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wo.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Sg(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:kg});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);c[`${E}Page`]=b}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){br(e);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){br(e);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Dt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){br(e);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){br(e.userId);try{const{data:r,error:n}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteFactor(e){br(e.userId),br(e.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}function Qu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Eg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kr={debug:!!(globalThis&&Uh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Cg extends zh{}async function Tg(t,e,r){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Cg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Eg();const Pg={url:z0,storageKey:F0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ju(t,e,r){return await r()}const jr={};class Xn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xn.nextInstanceID,Xn.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Pg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ng({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Mh(s.fetch),this.lock=s.lock||Ju,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Tg:this.lock=Ju,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Uh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qu(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=jr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=jr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ih}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=sg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),G0(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new $h("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await _r(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},xform:pt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:pt})}else throw new Ts("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gu})}else throw new Ts("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,u,c,d,h,m,v;let w,b;if("message"in e)w=e.message,b=e.signature;else{const{chain:E,wallet:g,statement:f,options:p}=e;let y;if(et())if(typeof g=="object")y=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))y=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const S=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in y&&y.signIn){const x=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let j;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")j=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)j=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),b=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const x=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=x}}try{const{data:E,error:g}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:tg(b)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pt});if(g)throw g;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Cs}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:g})}catch(E){if(q(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const r=await tr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pt});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pt}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Cs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await _r(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ts("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await _r(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:_g})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Rt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ts("You must provide either an email or phone number and a type")}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<go:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await tr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=xo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(r){if(q(r))return K0(r)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Rt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await _r(this.storage,this.storageKey));const{data:c,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Dt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=yo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Rt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!et())throw new Ps("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ps(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ps("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fu("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!o||!c)throw new Ps("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let m=d+h;u&&(m=parseInt(u));const v=m-d;v*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:b,error:E}=await this._getUser(i);if(E)throw E;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(V0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ng(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await _r(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lg(async s=>(s>0&&await og(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&vo(i)&&Date.now()+o-n<Sr})}catch(n){if(this._debug(r,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await tr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Nr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:xo()}else if(s&&!s.user&&!s.user){const o=await tr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ot(this.storage,this.storageKey+"-user"),await Nr(this.storage,this.storageKey,s)):s.user=xo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<go;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${go}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),vo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ui;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),q(i)){const o={session:null,error:i};return vo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Nr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Vu(s);await Nr(this.storage,this.storageKey,i)}else{const s=Vu(r);await Nr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sr}ms, refresh threshold is ${wl} ticks`),s<=wl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await _r(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yo(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+H0>s)return n;const{data:i,error:o}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=yo(n);r!=null&&r.allowExpired||pg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=mg(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,eg(`${a}.${u}`)))throw new kl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}Xn.nextInstanceID=0;const Og=Xn;class Rg extends Og{constructor(e){super(e)}}var Ag=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class Ig{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=M0(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:T0,realtime:O0,auth:Object.assign(Object.assign({},P0),{storageKey:u}),global:C0},d=U0(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=L0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Qm(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new S0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Em(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Ag(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:u,debug:c},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rg({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new h0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lg=(t,e,r)=>new Ig(t,e,r);function $g(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$g()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Dg="https://ijhakqofudcssdakcvas.supabase.co",Ug="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlqaGFrcW9mdWRjc3NkYWtjdmFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2Mjc5NDgsImV4cCI6MjA4MzIwMzk0OH0.qHJHMpOdLHkvfv9E_WqFsw7c7e-kFhqBXNWes1oBh7Q",I=Lg(Dg,Ug),Fh=N.createContext(void 0),Mg=({children:t})=>{const[e,r]=N.useState(null),[n,s]=N.useState(null),[i,o]=N.useState(!0),[a,u]=N.useState(null),[c,d]=N.useState(!1),h=async f=>{const{data:p}=await I.from("user_roles").select("role").eq("user_id",f).maybeSingle();u((p==null?void 0:p.role)||null)},m=async f=>{const{data:p}=await I.from("profiles").select("default_team_id").eq("id",f).maybeSingle();d(!!(p!=null&&p.default_team_id))},v=async()=>{e&&await m(e.id)};N.useEffect(()=>{I.auth.getSession().then(({data:{session:p}})=>{s(p),r((p==null?void 0:p.user)??null),p!=null&&p.user&&(h(p.user.id),m(p.user.id)),o(!1)});const{data:{subscription:f}}=I.auth.onAuthStateChange((p,y)=>{(async()=>{if(s(y),r((y==null?void 0:y.user)??null),y!=null&&y.user?(h(y.user.id),m(y.user.id)):(u(null),d(!1)),o(!1),p==="SIGNED_IN"&&(y!=null&&y.user)){const{error:S}=await I.from("profiles").upsert({id:y.user.id,email:y.user.email,updated_at:new Date().toISOString()},{onConflict:"id"});S&&console.error("Error upserting profile:",S)}})()});return()=>f.unsubscribe()},[]);const g={user:e,session:n,loading:i,userRole:a,hasTeam:c,signUp:async(f,p,y)=>{const{data:S,error:x}=await I.auth.signUp({email:f,password:p});return S.user&&!x&&await I.from("profiles").insert({id:S.user.id,email:f,full_name:y}),{error:x}},signIn:async(f,p)=>{const{error:y}=await I.auth.signInWithPassword({email:f,password:p});return{error:y}},signOut:async()=>{r(null),s(null),u(null),d(!1),await I.auth.signOut()},refreshTeamStatus:v};return l.jsx(Fh.Provider,{value:g,children:t})},Nt=()=>{const t=N.useContext(Fh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(t,e)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>N.createElement("svg",{ref:d,...zg,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Fg(t)}`,a].join(" "),...c},[...e.map(([h,m])=>N.createElement(h,m)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=G("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=G("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=G("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=G("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=G("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=G("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=G("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=G("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=G("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=G("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=G("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=G("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=G("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=G("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=G("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=G("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=G("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function rv({onGetStarted:t,onSignUp:e}){return l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx("nav",{className:"sticky top-0 z-50 border-b border-slate-200 shadow-sm bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("img",{src:"https://dqygnmjwprmoipcyhzzn.supabase.co/storage/v1/object/public/multimedia/1f694ce8-dec9-43cb-bc15-0bf8a018fe7f/logo/1767629183022-7xqmg.svg",alt:"WebTrack Logo",className:"h-12 w-auto"})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:e,className:"px-6 py-2 text-sm font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Prueba Gratuita"}),l.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-900 hover:text-slate-700 transition-colors",children:"Iniciar Sesin"})]})]})})}),l.jsx("section",{className:"relative py-20 overflow-hidden bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-5xl font-bold text-slate-900 mb-6",children:"Soluciones Completas de Gestin de Flotas"}),l.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Rastrea, gestiona y optimiza toda tu flota en tiempo real. WebTrack proporciona a las empresas de transporte herramientas poderosas para monitorear vehculos, reducir costos y mejorar la eficiencia operativa."}),l.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 text-lg font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:["Comienza Hoy",l.jsx(vn,{className:"ml-2 w-5 h-5"})]})]}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"rounded-2xl shadow-2xl bg-slate-100 p-8",children:l.jsx(Xg,{className:"w-full h-64 text-slate-700"})})})]})})}),l.jsx("section",{className:"py-20 bg-slate-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Por Qu Elegir WebTrack?"}),l.jsx("p",{className:"text-xl text-slate-600",children:"Funcionalidades poderosas diseadas para empresas de transporte modernas"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"text-center p-8 rounded-xl bg-white hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-full mb-6",children:l.jsx(Wh,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Rastreo en Tiempo Real"}),l.jsx("p",{className:"text-slate-600",children:"Monitorea toda tu flota en tiempo real con rastreo GPS preciso. Sabe exactamente dnde est cada vehculo en cualquier momento."})]}),l.jsxs("div",{className:"text-center p-8 rounded-xl bg-white hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-full mb-6",children:l.jsx(qg,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Analtica Avanzada"}),l.jsx("p",{className:"text-slate-600",children:"Obtn reportes detallados e informacin sobre consumo de combustible, comportamiento del conductor, optimizacin de rutas y ms."})]}),l.jsxs("div",{className:"text-center p-8 rounded-xl bg-white hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-full mb-6",children:l.jsx(Yg,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Seguridad Mejorada"}),l.jsx("p",{className:"text-slate-600",children:"Protege tus activos con geocercas, alertas y funciones de seguridad completas para prevenir robos y mal uso."})]})]})]})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsx("div",{className:"rounded-2xl shadow-2xl bg-slate-100 p-8",children:l.jsx(Wr,{className:"w-full h-64 text-slate-700"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Optimiza tus Operaciones"}),l.jsx("p",{className:"text-xl text-slate-600 mb-6",children:"Ahorra tiempo y reduce costos con planificacin inteligente de rutas, reportes automatizados y programacin de mantenimiento."}),l.jsxs("ul",{className:"space-y-4 text-lg text-slate-600",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx(vn,{className:"w-6 h-6 mr-3 mt-1 text-blue-600 flex-shrink-0"}),l.jsx("span",{children:"Reduce costos de combustible hasta un 30%"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx(vn,{className:"w-6 h-6 mr-3 mt-1 text-blue-600 flex-shrink-0"}),l.jsx("span",{children:"Mejora la seguridad y responsabilidad del conductor"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx(vn,{className:"w-6 h-6 mr-3 mt-1 text-blue-600 flex-shrink-0"}),l.jsx("span",{children:"Aumenta la satisfaccin del cliente con tiempos estimados precisos"})]})]})]})]})})}),l.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-50 to-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Listo para Transformar tu Flota?"}),l.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-2xl mx-auto",children:"nete a cientos de empresas de transporte que usan WebTrack para optimizar operaciones y maximizar la eficiencia."}),l.jsxs("button",{onClick:e,className:"inline-flex items-center px-8 py-4 text-lg font-medium text-white bg-black rounded-lg hover:bg-slate-800 transition-colors shadow-lg hover:shadow-xl",children:["Inicia tu Prueba Gratuita",l.jsx(vn,{className:"ml-2 w-5 h-5"})]})]})}),l.jsx("footer",{className:"bg-slate-900 text-white py-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("div",{className:"flex items-center justify-center space-x-2 mb-4",children:l.jsx("img",{src:"https://dqygnmjwprmoipcyhzzn.supabase.co/storage/v1/object/public/multimedia/1f694ce8-dec9-43cb-bc15-0bf8a018fe7f/logo/1767629183022-7xqmg.svg",alt:"WebTrack Logo",className:"h-8 w-auto brightness-0 invert"})}),l.jsx("p",{className:"text-slate-400",children:"Soluciones profesionales de gestin de flotas para empresas de transporte"})]})})]})}const nv=t=>{if(!t)return"";let e="";if(t.includes("youtube.com/embed/"))return t;const r=t.match(/youtube\.com\/watch\?v=([^&]+)/);r&&(e=r[1]);const n=t.match(/youtu\.be\/([^?&]+)/);n&&(e=n[1]);const s=t.match(/youtube\.com\/embed\/([^?&]+)/);return s&&(e=s[1]),e?`https://www.youtube.com/embed/${e}`:t};function sv({courseId:t,enrollmentId:e,onBack:r}){Nt();const[n,s]=N.useState(null),[i,o]=N.useState([]),[a,u]=N.useState([]),[c,d]=N.useState(null),[h,m]=N.useState(!0);N.useEffect(()=>{v()},[t]);const v=async()=>{try{const{data:E}=await I.from("courses").select("*").eq("id",t).maybeSingle(),{data:g}=await I.from("lessons").select("*").eq("course_id",t).order("order_index",{ascending:!0}),{data:f}=await I.from("lesson_progress").select("lesson_id, completed").eq("enrollment_id",e);s(E),o(g||[]),u(f||[]),g&&g.length>0&&d(g[0])}catch(E){console.error("Error fetching course data:",E)}finally{m(!1)}},w=E=>a.some(g=>g.lesson_id===E&&g.completed),b=async E=>{try{const{error:g}=await I.from("lesson_progress").upsert({enrollment_id:e,lesson_id:E,completed:!0,completed_at:new Date().toISOString()},{onConflict:"enrollment_id,lesson_id"});if(g)throw g;const f=a.filter(S=>S.completed).length+1,p=i.length,y=Math.round(f/p*100);await I.from("enrollments").update({progress:y}).eq("id",e),v()}catch(g){console.error("Error marking lesson complete:",g)}};return h?l.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Cargando curso..."})]})}):l.jsxs("div",{className:"min-h-screen bg-slate-50",children:[l.jsx("div",{className:"bg-white border-b border-slate-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("button",{onClick:r,className:"flex items-center text-slate-600 hover:text-slate-900 transition-colors",children:[l.jsx(Bh,{className:"w-5 h-5 mr-2"}),"Volver al Panel"]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:n==null?void 0:n.title}),l.jsx("p",{className:"text-lg text-slate-600",children:n==null?void 0:n.description}),l.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Instructor(a): ",n==null?void 0:n.instructor]})]}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:c?l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsx("div",{className:"aspect-video bg-slate-900",children:c.video_url?l.jsx("iframe",{src:nv(c.video_url),title:c.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:l.jsx(Qg,{className:"w-16 h-16"})})}),l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:c.title}),l.jsx("p",{className:"text-slate-600 mb-6",children:c.content}),!w(c.id)&&l.jsx("button",{onClick:()=>b(c.id),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Marcar como Completado"})]})]}):l.jsx("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:l.jsx("p",{className:"text-slate-600",children:"Selecciona una leccin para comenzar"})})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-4",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Contenido del Curso"}),l.jsx("div",{className:"space-y-2",children:i.map((E,g)=>l.jsxs("button",{onClick:()=>d(E),className:`w-full text-left p-4 rounded-lg transition-colors ${(c==null?void 0:c.id)===E.id?"bg-blue-50 border-2 border-blue-600":"bg-slate-50 hover:bg-slate-100 border-2 border-transparent"}`,children:[l.jsx("div",{className:"flex items-start justify-between mb-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[w(E.id)?l.jsx(ka,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):l.jsx(Hg,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),l.jsxs("span",{className:"text-sm font-medium text-slate-900",children:["Leccin ",E.order_index]})]})}),l.jsx("p",{className:"text-sm font-semibold text-slate-900 mb-1 line-clamp-2",children:E.title}),l.jsxs("div",{className:"flex items-center text-xs text-slate-600",children:[l.jsx(Wr,{className:"w-3 h-3 mr-1"}),E.duration_minutes," min"]})]},E.id))})]})})]})]})]})}function iv(){const{userRole:t,user:e}=Nt(),[r,n]=N.useState([]),[s,i]=N.useState(null),[o,a]=N.useState([]),[u,c]=N.useState(!0),[d,h]=N.useState(!1),[m,v]=N.useState(!1),[w,b]=N.useState(""),[E,g]=N.useState(""),[f,p]=N.useState(""),[y,S]=N.useState("member"),[x,j]=N.useState(null);N.useEffect(()=>{(async()=>{if(!e)return;const{data:M}=await I.from("profiles").select("default_team_id").eq("id",e.id).maybeSingle();M!=null&&M.default_team_id&&j(M.default_team_id)})()},[e]),N.useEffect(()=>{t==="team_leader"&&!x||R()},[t,x]),N.useEffect(()=>{s&&H(s.id)},[s]);const R=async()=>{try{let D=I.from("teams").select("*").order("created_at",{ascending:!0});t==="team_leader"&&x&&(D=D.eq("id",x));const{data:M}=await D;n(M||[]),M&&M.length>0&&!s&&i(M[0])}catch(D){console.error("Error fetching teams:",D)}finally{c(!1)}},H=async D=>{try{const{data:M}=await I.from("profiles").select(`
          id,
          email,
          full_name,
          user_roles (role)
        `).eq("default_team_id",D);let O=M||[];if(t==="system_user"){const{data:F}=await I.from("profiles").select(`
            id,
            email,
            full_name,
            user_roles!inner (role)
          `).eq("user_roles.role","system_user"),T=new Set(O.map(U=>U.id)),$=(F||[]).filter(U=>!T.has(U.id));O=[...O,...$]}t==="team_leader"&&(O=O.filter(F=>{var $,U;const T=(U=($=F.user_roles)==null?void 0:$[0])==null?void 0:U.role;return T!=="team_leader"&&T!=="system_user"})),a(O)}catch(M){console.error("Error fetching team members:",M)}},k=async()=>{if(w.trim())try{const{error:D}=await I.from("teams").insert({name:w,description:E});if(D)throw D;b(""),g(""),h(!1),R()}catch(D){alert(D.message||"Error al crear equipo")}},z=async()=>{if(!(!f.trim()||!s))try{const{data:D}=await I.from("profiles").select("id").eq("email",f).maybeSingle();if(!D){alert("Usuario no encontrado");return}const{error:M}=await I.from("user_roles").upsert({user_id:D.id,role:y},{onConflict:"user_id"});if(M)throw M;const{error:O}=await I.from("profiles").update({default_team_id:s.id}).eq("id",D.id);if(O)throw O;p(""),S("member"),v(!1),H(s.id)}catch(D){alert(D.message||"Error al agregar miembro")}},de=async D=>{if(confirm("Ests seguro de que deseas eliminar este miembro del equipo?"))try{const{error:M}=await I.from("profiles").update({default_team_id:null}).eq("id",D);if(M)throw M;s&&H(s.id)}catch(M){alert(M.message||"Error al eliminar miembro")}},me=async D=>{if(confirm("Ests seguro de que deseas eliminar este equipo?"))try{const{error:M}=await I.from("teams").delete().eq("id",D);if(M)throw M;R(),i(null)}catch(M){alert(M.message||"Error al eliminar equipo")}};return u?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Cargando equipos..."})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Gestin de Equipos"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Administra equipos y miembros"})]}),t==="system_user"&&l.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Nuevo Equipo"]})]}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Equipos"}),l.jsx("div",{className:"space-y-2",children:r.map(D=>l.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg cursor-pointer transition-colors ${(s==null?void 0:s.id)===D.id?"bg-blue-50 border-2 border-blue-600":"bg-slate-50 hover:bg-slate-100"}`,children:[l.jsxs("div",{onClick:()=>i(D),className:"flex-1",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:D.name}),l.jsx("p",{className:"text-sm text-slate-600",children:D.description})]}),t==="system_user"&&l.jsx("button",{onClick:()=>me(D.id),className:"ml-2 p-1 text-red-600 hover:bg-red-50 rounded",children:l.jsx(tn,{className:"w-4 h-4"})})]},D.id))})]})}),l.jsx("div",{className:"lg:col-span-2",children:s?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-slate-900",children:["Miembros de ",s.name]}),l.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Zg,{className:"w-5 h-5 mr-2"}),"Agregar Miembro"]})]}),l.jsxs("div",{className:"space-y-3",children:[o.map(D=>{var O,F;const M=(F=(O=D.user_roles)==null?void 0:O[0])==null?void 0:F.role;return l.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-slate-900",children:D.full_name||D.email}),l.jsx("p",{className:"text-sm text-slate-600",children:D.email}),l.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded-full text-xs font-medium ${M==="system_user"?"bg-orange-100 text-orange-700":M==="team_leader"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:M==="system_user"?"Administrador":M==="team_leader"?"Lder de Equipo":"Miembro"})]}),l.jsx("button",{onClick:()=>de(D.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:l.jsx(tn,{className:"w-5 h-5"})})]},D.id)}),o.length===0&&l.jsx("div",{className:"text-center py-8 text-slate-600",children:"No hay miembros en este equipo"})]})]}):l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[l.jsx(Vr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Selecciona un equipo para ver sus miembros"})]})})]}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Crear Nuevo Equipo"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre del Equipo"}),l.jsx("input",{type:"text",value:w,onChange:D=>b(D.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Nombre"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{value:E,onChange:D=>g(D.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Descripcin del equipo",rows:3})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-3 bg-slate-200 text-slate-700 font-medium rounded-lg hover:bg-slate-300 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:k,className:"flex-1 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Crear"})]})]})]})}),m&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Agregar Miembro"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Correo Electrnico"}),l.jsx("input",{type:"email",value:f,onChange:D=>p(D.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"usuario@ejemplo.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rol"}),l.jsxs("select",{value:y,onChange:D=>S(D.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[l.jsx("option",{value:"member",children:"Miembro"}),t==="system_user"&&l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"team_leader",children:"Lder de Equipo"}),l.jsx("option",{value:"system_user",children:"Administrador"})]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>v(!1),className:"flex-1 py-3 bg-slate-200 text-slate-700 font-medium rounded-lg hover:bg-slate-300 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:z,className:"flex-1 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar"})]})]})]})})]})}function ov({message:t,type:e,onClose:r,duration:n=4e3}){const[s,i]=N.useState(!1),[o,a]=N.useState(!1);N.useEffect(()=>{requestAnimationFrame(()=>i(!0));const h=setTimeout(()=>{a(!0),setTimeout(r,300)},n);return()=>clearTimeout(h)},[n,r]);const u={success:l.jsx(ka,{className:"w-5 h-5"}),error:l.jsx(tv,{className:"w-5 h-5"}),info:l.jsx(Bg,{className:"w-5 h-5"})},c={success:"bg-emerald-50 border-emerald-200 text-emerald-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-blue-50 border-blue-200 text-blue-800"},d={success:"text-emerald-500",error:"text-red-500",info:"text-blue-500"};return l.jsxs("div",{className:`
        flex items-center gap-3 px-4 py-3 rounded-xl border shadow-lg backdrop-blur-sm
        transform transition-all duration-300 ease-out
        ${c[e]}
        ${s&&!o?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:[l.jsx("span",{className:d[e],children:u[e]}),l.jsx("p",{className:"font-medium flex-1",children:t}),l.jsx("button",{onClick:()=>{a(!0),setTimeout(r,300)},className:"p-1 hover:bg-black/5 rounded-lg transition-colors",children:l.jsx(Mi,{className:"w-4 h-4"})})]})}let lv=0,vi=null;function V(t,e="info"){vi&&vi(t,e)}V.success=t=>V(t,"success");V.error=t=>V(t,"error");V.info=t=>V(t,"info");function av(){const[t,e]=N.useState([]);N.useEffect(()=>(vi=(n,s)=>{const i=++lv;e(o=>[...o,{id:i,message:n,type:s}])},()=>{vi=null}),[]);const r=n=>{e(s=>s.filter(i=>i.id!==n))};return l.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-3 max-w-sm",children:t.map(n=>l.jsx(ov,{message:n.message,type:n.type,onClose:()=>r(n.id)},n.id))})}function uv({courseId:t,onBack:e}){const{user:r}=Nt(),[n,s]=N.useState({title:"",description:"",instructor:"",duration:"",level:"beginner",image_url:"",is_public:!0}),[i,o]=N.useState([]),[a,u]=N.useState(!1),[c,d]=N.useState(!1),[h,m]=N.useState(null),[v,w]=N.useState(!1),[b,E]=N.useState(null),[g,f]=N.useState(null),[p,y]=N.useState([]),[S,x]=N.useState(""),[j,R]=N.useState(null),[H,k]=N.useState(null),[z,de]=N.useState(!1),me=N.useRef(null);N.useEffect(()=>{t&&(D(),M())},[t]),N.useEffect(()=>{(async()=>{var ue,as;if(!r)return;const[B,Y]=await Promise.all([I.from("profiles").select("default_team_id").eq("id",r.id).maybeSingle(),I.from("user_roles").select("role").eq("user_id",r.id).maybeSingle()]);if((ue=B.data)!=null&&ue.default_team_id&&(E(B.data.default_team_id),x(B.data.default_team_id)),(as=Y.data)!=null&&as.role&&(f(Y.data.role),Y.data.role==="system_user")){const{data:Ct}=await I.from("teams").select("id, name").order("name");Ct&&y(Ct)}})()},[r]);const D=async()=>{if(t){u(!0);try{const{data:P,error:B}=await I.from("courses").select("*").eq("id",t).maybeSingle();if(B)throw B;P&&s(P)}catch(P){console.error("Error fetching course:",P)}finally{u(!1)}}},M=async()=>{if(t)try{const{data:P,error:B}=await I.from("lessons").select("*").eq("course_id",t).order("order_index",{ascending:!0});if(B)throw B;o(P||[])}catch(P){console.error("Error fetching lessons:",P)}},O=P=>{var ue;const B=(ue=P.target.files)==null?void 0:ue[0];if(!B)return;if(!B.type.startsWith("image/")){V.error("Por favor selecciona un archivo de imagen");return}if(B.size>5*1024*1024){V.error("La imagen debe ser menor a 5MB");return}R(B);const Y=new FileReader;Y.onloadend=()=>{k(Y.result)},Y.readAsDataURL(B)},F=async()=>{if(!j)return n.image_url||null;de(!0);try{const P=j.name.split(".").pop(),B=`${Date.now()}-${Math.random().toString(36).substring(2)}.${P}`,{error:Y}=await I.storage.from("course-images").upload(B,j);if(Y)throw Y;const{data:{publicUrl:ue}}=I.storage.from("course-images").getPublicUrl(B);return ue}catch(P){return V.error(`Error al subir imagen: ${P.message}`),null}finally{de(!1)}},T=()=>{R(null),k(null),s({...n,image_url:""}),me.current&&(me.current.value="")},$=async()=>{if(!n.title.trim()){V.error("El titulo del curso es requerido");return}d(!0);try{let P=n.image_url||"";if(j){const Y=await F();Y&&(P=Y)}const B={title:n.title,description:n.description||"",instructor:n.instructor||"",duration:n.duration||"",level:n.level||"beginner",image_url:P,is_public:n.is_public,is_published:!0};if(t){const{data:Y,error:ue}=await I.from("courses").update(B).eq("id",t).select().single();if(ue)throw ue;Y&&s(Y),V.success("Curso actualizado exitosamente")}else{if(g==="system_user"){if(!S){V.error("Debes seleccionar un equipo para el curso"),d(!1);return}B.team_id=S}else b&&(B.team_id=b);const{data:Y,error:ue}=await I.from("courses").insert(B).select().single();if(ue)throw ue;Y&&(s(Y),window.history.replaceState(null,"",`?courseId=${Y.id}`)),V.success("Curso creado exitosamente")}}catch(P){V.error(`Error al guardar curso: ${P.message||"Error desconocido"}`)}finally{d(!1)}},U=async()=>{if(h){if(!t&&!n.id){V.error("Primero debes guardar el curso");return}try{const P={...h,course_id:t||n.id};if(h.id){const{error:B}=await I.from("lessons").update(P).eq("id",h.id);if(B)throw B}else{const{error:B}=await I.from("lessons").insert(P);if(B)throw B}w(!1),m(null),M(),V.success("Leccion guardada exitosamente")}catch(P){V.error(P.message||"Error al guardar leccion")}}},Z=async P=>{if(confirm("Estas seguro de que deseas eliminar esta leccion?"))try{const{error:B}=await I.from("lessons").delete().eq("id",P);if(B)throw B;M(),V.success("Leccion eliminada")}catch(B){V.error(B.message||"Error al eliminar leccion")}},J=()=>{m({title:"",content:"",video_url:"",order_index:i.length,duration_minutes:0}),w(!0)},Et=P=>{m(P),w(!0)};return a?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Cargando curso..."})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:e,className:"flex items-center text-slate-600 hover:text-slate-900 transition-colors mb-4",children:[l.jsx(Bh,{className:"w-5 h-5 mr-2"}),"Volver a Cursos"]}),l.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:t?"Editar Curso":"Crear Nuevo Curso"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Completa la informacin del curso y sus lecciones"})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Informacin del Curso"}),l.jsxs("button",{onClick:$,disabled:c,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-slate-400",children:[l.jsx(Jg,{className:"w-5 h-5 mr-2"}),c?"Guardando...":"Guardar Curso"]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo del Curso"}),l.jsx("input",{type:"text",value:n.title,onChange:P=>s({...n,title:P.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Ej: Introduccin a Webtrack"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin / Subttulo"}),l.jsx("textarea",{value:n.description,onChange:P=>s({...n,description:P.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Describe brevemente de qu trata el curso",rows:3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Instructor"}),l.jsx("input",{type:"text",value:n.instructor,onChange:P=>s({...n,instructor:P.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Nombre del instructor"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Duracin"}),l.jsx("input",{type:"text",value:n.duration,onChange:P=>s({...n,duration:P.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Ej: 8 semanas"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nivel"}),l.jsxs("select",{value:n.level,onChange:P=>s({...n,level:P.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[l.jsx("option",{value:"beginner",children:"Principiante"}),l.jsx("option",{value:"intermediate",children:"Intermedio"}),l.jsx("option",{value:"advanced",children:"Avanzado"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Visibilidad"}),l.jsxs("select",{value:n.is_public?"public":"private",onChange:P=>s({...n,is_public:P.target.value==="public"}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[l.jsx("option",{value:"public",children:"Pblico"}),l.jsx("option",{value:"private",children:"Privado (Solo equipos asignados)"})]})]}),g==="system_user"&&!t&&l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Equipo"}),l.jsxs("select",{value:S,onChange:P=>x(P.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[l.jsx("option",{value:"",children:"Seleccionar equipo..."}),p.map(P=>l.jsx("option",{value:P.id,children:P.name},P.id))]}),l.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Selecciona el equipo al que pertenecer este curso"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Imagen del Curso"}),l.jsx("input",{ref:me,type:"file",accept:"image/*",onChange:O,className:"hidden"}),!H&&!n.image_url?l.jsxs("button",{type:"button",onClick:()=>{var P;return(P=me.current)==null?void 0:P.click()},className:"w-full h-48 border-2 border-dashed border-slate-300 rounded-lg flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50 transition-colors cursor-pointer",children:[l.jsx(gi,{className:"w-12 h-12 text-slate-400 mb-3"}),l.jsx("span",{className:"text-slate-600 font-medium",children:"Haz clic para subir una imagen"}),l.jsx("span",{className:"text-slate-400 text-sm mt-1",children:"PNG, JPG hasta 5MB"})]}):l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:H||n.image_url,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),l.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{var P;return(P=me.current)==null?void 0:P.click()},className:"p-2 bg-white rounded-full shadow-md hover:bg-slate-100 transition-colors",title:"Cambiar imagen",children:l.jsx(gi,{className:"w-4 h-4 text-slate-600"})}),l.jsx("button",{type:"button",onClick:T,className:"p-2 bg-white rounded-full shadow-md hover:bg-red-50 transition-colors",title:"Eliminar imagen",children:l.jsx(Mi,{className:"w-4 h-4 text-red-600"})})]})]}),z&&l.jsxs("div",{className:"mt-2 flex items-center text-sm text-slate-600",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Subiendo imagen..."]})]})]})]}),(t||n.id)&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Lecciones"}),l.jsxs("button",{onClick:J,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Agregar Leccin"]})]}),l.jsxs("div",{className:"space-y-3",children:[i.map((P,B)=>l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[l.jsx(Kg,{className:"w-5 h-5 text-slate-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["Leccin ",B+1]}),P.duration_minutes>0&&l.jsxs("span",{className:"text-xs text-slate-500",children:["(",P.duration_minutes," min)"]})]}),l.jsx("h4",{className:"font-semibold text-slate-900",children:P.title}),P.video_url&&l.jsxs("p",{className:"text-xs text-slate-600 mt-1 truncate",children:["Video: ",P.video_url]})]}),l.jsx("button",{onClick:()=>Et(P),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",children:l.jsx(ja,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>P.id&&Z(P.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",children:l.jsx(tn,{className:"w-5 h-5"})})]},P.id)),i.length===0&&l.jsx("div",{className:"text-center py-8 text-slate-600",children:'No hay lecciones an. Haz clic en "Agregar Leccin" para comenzar.'})]})]})]}),v&&h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full p-8 max-h-[90vh] overflow-y-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:h.id?"Editar Leccin":"Nueva Leccin"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo de la Leccin"}),l.jsx("input",{type:"text",value:h.title,onChange:P=>m({...h,title:P.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Ej: Introduccin al tema"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin / Contenido"}),l.jsx("textarea",{value:h.content,onChange:P=>m({...h,content:P.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Describe el contenido de la leccin",rows:4})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"URL del Video o Cdigo Embebido"}),l.jsx("textarea",{value:h.video_url,onChange:P=>m({...h,video_url:P.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:'Ej: https://youtube.com/watch?v=... o <iframe src="..."></iframe>',rows:3}),l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Puedes pegar una URL de YouTube, Vimeo, o el cdigo embebido completo del video"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Duracin (minutos)"}),l.jsx("input",{type:"number",value:h.duration_minutes,onChange:P=>m({...h,duration_minutes:parseInt(P.target.value)||0}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"30"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Orden"}),l.jsx("input",{type:"number",value:h.order_index,onChange:P=>m({...h,order_index:parseInt(P.target.value)||0}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"0"})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{onClick:()=>{w(!1),m(null)},className:"flex-1 py-3 bg-slate-200 text-slate-700 font-medium rounded-lg hover:bg-slate-300 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:U,className:"flex-1 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Guardar Leccin"})]})]})]})})]})}function cv(){const{userRole:t,user:e}=Nt(),[r,n]=N.useState([]),[s,i]=N.useState(null),[o,a]=N.useState([]),[u,c]=N.useState([]),[d,h]=N.useState(!0),[m,v]=N.useState(!1),[w,b]=N.useState(""),[E,g]=N.useState("list"),[f,p]=N.useState(void 0),[y,S]=N.useState(null);N.useEffect(()=>{(async()=>{if(!e)return;const{data:F}=await I.from("profiles").select("default_team_id").eq("id",e.id).maybeSingle();F!=null&&F.default_team_id&&S(F.default_team_id)})()},[e]),N.useEffect(()=>{t==="team_leader"&&!y||(x(),j())},[t,y]),N.useEffect(()=>{s&&R(s.id)},[s]);const x=async()=>{try{let O=I.from("teams").select("*").order("created_at",{ascending:!0});t==="team_leader"&&y&&(O=O.eq("id",y));const{data:F}=await O;n(F||[]),F&&F.length>0&&!s&&i(F[0])}catch(O){console.error("Error fetching teams:",O)}finally{h(!1)}},j=async()=>{try{const{data:O}=await I.from("courses").select("*").order("created_at",{ascending:!0});c(O||[])}catch(O){console.error("Error fetching courses:",O)}},R=async O=>{try{const[F,T]=await Promise.all([I.from("team_courses").select(`
            id,
            course_id,
            courses (
              id,
              title,
              description,
              instructor,
              is_public,
              image_url
            )
          `).eq("team_id",O),I.from("courses").select("id, title, description, instructor, is_public, image_url").eq("team_id",O)]),$=(F.data||[]).map(J=>({...J,isDirectAssignment:!1})),U=$.map(J=>J.course_id),Z=(T.data||[]).filter(J=>!U.includes(J.id)).map(J=>({id:`direct-${J.id}`,course_id:J.id,courses:J,isDirectAssignment:!0}));a([...$,...Z])}catch(F){console.error("Error fetching team courses:",F)}},H=async()=>{if(!(!w||!s))try{const{error:O}=await I.from("team_courses").insert({team_id:s.id,course_id:w});if(O)throw O;b(""),v(!1),R(s.id),V.success("Curso asignado al equipo")}catch(O){V.error(O.message||"Error al agregar curso")}},k=async(O,F,T)=>{if(confirm("Estas seguro de que deseas eliminar este curso del equipo?"))try{if(F){const{error:$}=await I.from("courses").update({team_id:null}).eq("id",T);if($)throw $}else{const{error:$}=await I.from("team_courses").delete().eq("id",O);if($)throw $}s&&R(s.id),V.success("Curso removido del equipo")}catch($){V.error($.message||"Error al eliminar curso")}},z=async(O,F)=>{try{const{error:T}=await I.from("courses").update({is_public:!F}).eq("id",O);if(T)throw T;j(),s&&R(s.id),V.success(`Curso ahora es ${F?"privado":"publico"}`)}catch(T){V.error(T.message||"Error al cambiar visibilidad")}},de=async O=>{if(confirm("Estas seguro de que deseas eliminar este curso? Esto tambien eliminara todas sus lecciones."))try{const{error:F}=await I.from("courses").delete().eq("id",O);if(F)throw F;j(),s&&R(s.id),V.success("Curso eliminado exitosamente")}catch(F){V.error(F.message||"Error al eliminar curso")}},me=()=>{p(void 0),g("editor")},D=O=>{p(O),g("editor")},M=()=>{const O=o.map(F=>F.course_id);return u.filter(F=>!O.includes(F.id))};return E==="editor"?l.jsx(uv,{courseId:f,onBack:()=>{g("list"),p(void 0),j()}}):d?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Cargando cursos..."})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Gestin de Cursos"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Crea, edita y asigna cursos a equipos"})]}),t==="system_user"&&l.jsxs("button",{onClick:me,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Crear Nuevo Curso"]})]}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Equipos"}),l.jsx("div",{className:"space-y-2",children:r.map(O=>l.jsxs("div",{onClick:()=>i(O),className:`p-3 rounded-lg cursor-pointer transition-colors ${(s==null?void 0:s.id)===O.id?"bg-blue-50 border-2 border-blue-600":"bg-slate-50 hover:bg-slate-100"}`,children:[l.jsx("p",{className:"font-semibold text-slate-900",children:O.name}),l.jsx("p",{className:"text-sm text-slate-600",children:O.description})]},O.id))})]})}),l.jsx("div",{className:"lg:col-span-2",children:s?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h3",{className:"text-2xl font-bold text-slate-900",children:["Cursos de ",s.name]}),l.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Asignar Curso"]})]}),l.jsxs("div",{className:"space-y-4",children:[o.map(O=>l.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 rounded-lg",children:[l.jsx("img",{src:O.courses.image_url,alt:O.courses.title,className:"w-24 h-24 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-slate-900",children:O.courses.title}),l.jsx("p",{className:"text-sm text-slate-600",children:O.courses.instructor})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[t==="system_user"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>z(O.courses.id,O.courses.is_public),className:`flex items-center gap-1 px-3 py-1 rounded-lg text-sm font-medium transition-colors ${O.courses.is_public?"bg-green-100 text-green-700 hover:bg-green-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:O.courses.is_public?l.jsxs(l.Fragment,{children:[l.jsx(Xu,{className:"w-4 h-4"}),"Pblico"]}):l.jsxs(l.Fragment,{children:[l.jsx(tc,{className:"w-4 h-4"}),"Privado"]})}),l.jsx("button",{onClick:()=>D(O.courses.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Editar curso",children:l.jsx(ja,{className:"w-4 h-4"})})]}),!t&&!O.courses.is_public&&l.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-lg",children:[l.jsx(tc,{className:"w-4 h-4 inline mr-1"}),"Solo Equipo"]}),!t&&O.courses.is_public&&l.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-lg",children:[l.jsx(Xu,{className:"w-4 h-4 inline mr-1"}),"Pblico"]})]})]}),l.jsx("p",{className:"text-sm text-slate-600 mb-3",children:O.courses.description}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>k(O.id,O.isDirectAssignment||!1,O.courses.id),className:"flex items-center gap-1 px-3 py-1 text-red-600 hover:bg-red-50 rounded text-sm",children:[l.jsx(tn,{className:"w-4 h-4"}),"Quitar del Equipo"]}),t==="system_user"&&l.jsxs("button",{onClick:()=>de(O.courses.id),className:"flex items-center gap-1 px-3 py-1 text-red-700 hover:bg-red-100 rounded text-sm font-medium",children:[l.jsx(tn,{className:"w-4 h-4"}),"Eliminar Curso"]})]})]})]},O.id)),o.length===0&&l.jsx("div",{className:"text-center py-8 text-slate-600",children:"No hay cursos asignados a este equipo"})]})]}):l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[l.jsx(qs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Selecciona un equipo para gestionar sus cursos"})]})})]}),m&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-8 max-h-[80vh] overflow-y-auto",children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:["Asignar Curso a ",s==null?void 0:s.name]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Seleccionar Curso"}),l.jsxs("select",{value:w,onChange:O=>b(O.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[l.jsx("option",{value:"",children:"Selecciona un curso..."}),M().map(O=>l.jsxs("option",{value:O.id,children:[O.title," - ",O.instructor]},O.id))]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>{v(!1),b("")},className:"flex-1 py-3 bg-slate-200 text-slate-700 font-medium rounded-lg hover:bg-slate-300 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:H,disabled:!w,className:"flex-1 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed",children:"Asignar"})]})]})]})})]})}function dv(){const{user:t}=Nt(),[e,r]=N.useState([]),[n,s]=N.useState(!0),[i,o]=N.useState(!1),[a,u]=N.useState(null),[c,d]=N.useState(null),[h,m]=N.useState(null),[v,w]=N.useState([]),[b,E]=N.useState(null),[g,f]=N.useState(null),[p,y]=N.useState(!1),S=N.useRef(null),[x,j]=N.useState({title:"",description:"",event_date:"",end_date:"",location:"",team_id:"",image_url:"",facebook_url:"",instagram_url:"",twitter_url:"",whatsapp_url:"",other_url:"",is_free:!0,price:"0",currency:"GTQ"});N.useEffect(()=>{R()},[t]),N.useEffect(()=>{(h||c==="system_user")&&H()},[h,c]);const R=async()=>{var he,se;if(!t)return;const[_,L]=await Promise.all([I.from("profiles").select("default_team_id").eq("id",t.id).maybeSingle(),I.from("user_roles").select("role").eq("user_id",t.id).maybeSingle()]);if((he=_.data)!=null&&he.default_team_id&&(m(_.data.default_team_id),j(Tt=>({...Tt,team_id:_.data.default_team_id}))),(se=L.data)!=null&&se.role&&(d(L.data.role),L.data.role==="system_user")){const{data:Tt}=await I.from("teams").select("id, name").order("name");Tt&&w(Tt)}},H=async()=>{s(!0);try{const{data:_,error:L}=await I.from("events").select("*").order("event_date",{ascending:!0});if(L)throw L;r(_||[])}catch(_){console.error("Error fetching events:",_),V.error("Error al cargar eventos")}finally{s(!1)}},k=()=>c==="system_user"||c==="team_leader",z=_=>c==="system_user"||c==="team_leader"&&_.team_id===h,de=_=>{var se;const L=(se=_.target.files)==null?void 0:se[0];if(!L)return;if(!L.type.startsWith("image/")){V.error("Por favor selecciona un archivo de imagen");return}if(L.size>5*1024*1024){V.error("La imagen debe ser menor a 5MB");return}E(L);const he=new FileReader;he.onloadend=()=>{f(he.result)},he.readAsDataURL(L)},me=async()=>{if(!b)return x.image_url||null;y(!0);try{const _=b.name.split(".").pop(),L=`${Date.now()}-${Math.random().toString(36).substring(2)}.${_}`,{error:he}=await I.storage.from("event-images").upload(L,b);if(he)throw he;const{data:{publicUrl:se}}=I.storage.from("event-images").getPublicUrl(L);return se}catch(_){return V.error(`Error al subir imagen: ${_.message}`),null}finally{y(!1)}},D=()=>{E(null),f(null),j({...x,image_url:""}),S.current&&(S.current.value="")},M=_=>{if(!_)return"";const L=new Date(_),he=L.getFullYear(),se=String(L.getMonth()+1).padStart(2,"0"),Tt=String(L.getDate()).padStart(2,"0"),Vh=String(L.getHours()).padStart(2,"0"),Kh=String(L.getMinutes()).padStart(2,"0");return`${he}-${se}-${Tt}T${Vh}:${Kh}`},O=_=>_?new Date(_).toISOString():"",F=async _=>{if(_.preventDefault(),!x.title.trim()||!x.event_date||!x.team_id){V.error("Por favor completa los campos requeridos");return}try{let L=x.image_url||"";if(b){const se=await me();se&&(L=se)}const he={title:x.title,description:x.description,event_date:O(x.event_date),end_date:x.end_date?O(x.end_date):null,location:x.location,team_id:x.team_id,image_url:L,facebook_url:x.facebook_url,instagram_url:x.instagram_url,twitter_url:x.twitter_url,whatsapp_url:x.whatsapp_url,other_url:x.other_url,is_free:x.is_free,price:x.is_free?0:parseFloat(x.price)||0,currency:x.currency};if(a){const{error:se}=await I.from("events").update(he).eq("id",a.id);if(se)throw se;V.success("Evento actualizado exitosamente")}else{const{error:se}=await I.from("events").insert({...he,created_by:t.id});if(se)throw se;V.success("Evento creado exitosamente")}o(!1),u(null),P(),H()}catch(L){V.error(`Error: ${L.message}`)}},T=_=>{if(!_)return"";const L=new Date(_),he=L.getMinutes(),se=Math.round(he/30)*30;return L.setMinutes(se),L.setSeconds(0),L.setMilliseconds(0),M(L.toISOString())},$=_=>{if(!_)return"";const L=new Date(_);return L.setHours(L.getHours()+1),M(L.toISOString())},U=_=>{const L=T(_);j({...x,event_date:L,end_date:$(L)})},Z=_=>{const L=T(_);j({...x,end_date:L})},J=_=>{var L;u(_),j({title:_.title,description:_.description,event_date:M(_.event_date),end_date:_.end_date?M(_.end_date):"",location:_.location,team_id:_.team_id,image_url:_.image_url||"",facebook_url:_.facebook_url||"",instagram_url:_.instagram_url||"",twitter_url:_.twitter_url||"",whatsapp_url:_.whatsapp_url||"",other_url:_.other_url||"",is_free:_.is_free??!0,price:((L=_.price)==null?void 0:L.toString())||"0",currency:_.currency||"GTQ"}),f(_.image_url||null),o(!0)},Et=async _=>{if(confirm("Ests seguro de que deseas eliminar este evento?"))try{const{error:L}=await I.from("events").delete().eq("id",_);if(L)throw L;V.success("Evento eliminado exitosamente"),H()}catch(L){V.error(`Error: ${L.message}`)}},P=()=>{j({title:"",description:"",event_date:"",end_date:"",location:"",team_id:h||"",image_url:"",facebook_url:"",instagram_url:"",twitter_url:"",whatsapp_url:"",other_url:"",is_free:!0,price:"0",currency:"GTQ"}),E(null),f(null),S.current&&(S.current.value="")},B=_=>new Date(_).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Y=_=>new Date(_).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),ue=_=>new Date(_).toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),as=(_,L)=>{if(!L)return ue(_);const he=new Date(_),se=new Date(L);return he.toDateString()===se.toDateString()?`${B(_)}, ${Y(_)} - ${Y(L)}`:`${ue(_)} - ${ue(L)}`},Ct=_=>new Date(_)>=new Date,us=_=>{const L=new Date(_),he=new Date;he.setHours(0,0,0,0),L.setHours(0,0,0,0);const se=L.getTime()-he.getTime();return Math.ceil(se/(1e3*60*60*24))};return n?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Cargando eventos..."})]})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Eventos"}),l.jsx("p",{className:"text-lg text-slate-600",children:"Prximos eventos y actividades del equipo"})]}),k()&&l.jsxs("button",{onClick:()=>{u(null),P(),o(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Crear Evento"]})]})}),l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.length===0?l.jsxs("div",{className:"col-span-full text-center py-12",children:[l.jsx(qh,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No hay eventos"}),l.jsx("p",{className:"text-slate-600",children:k()?"Crea tu primer evento para comenzar":"No hay eventos programados en este momento"})]}):e.map(_=>{var L;return l.jsxs("div",{className:`bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow ${Ct(_.event_date)?"":"opacity-60"}`,children:[_.image_url&&l.jsx("img",{src:_.image_url,alt:_.title,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("span",{className:`inline-flex items-center justify-between px-3 py-1 rounded-full text-xs font-medium mb-3 ${Ct(_.event_date)?"bg-green-100 text-green-800":"bg-slate-100 text-slate-600"}`,children:[l.jsx("span",{children:Ct(_.event_date)?"Prximo":"Pasado"}),Ct(_.event_date)&&us(_.event_date)>0&&l.jsxs("span",{className:"ml-2 font-semibold",children:[us(_.event_date)," ",us(_.event_date)===1?"da":"das"]}),Ct(_.event_date)&&us(_.event_date)===0&&l.jsx("span",{className:"ml-2 font-semibold",children:"Hoy"})]}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:_.title})]}),z(_)&&l.jsxs("div",{className:"flex gap-2 ml-2",children:[l.jsx("button",{onClick:()=>J(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",children:l.jsx(ja,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Et(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",children:l.jsx(tn,{className:"w-4 h-4"})})]})]}),_.description&&l.jsx("p",{className:"text-slate-600 mb-4 line-clamp-3",children:_.description}),l.jsxs("div",{className:"space-y-2 text-sm text-slate-600 mb-4",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx(Wr,{className:"w-4 h-4 mr-2 mt-0.5 text-blue-600 flex-shrink-0"}),l.jsx("span",{className:"capitalize",children:as(_.event_date,_.end_date)})]}),_.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Wh,{className:"w-4 h-4 mr-2 text-blue-600"}),l.jsx("span",{children:_.location})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Wg,{className:"w-4 h-4 mr-2 text-blue-600"}),l.jsx("span",{className:"font-semibold",children:_.is_free?l.jsx("span",{className:"text-green-600",children:"Gratis"}):l.jsxs("span",{children:[_.currency," ",(L=_.price)==null?void 0:L.toFixed(2)]})})]})]}),(_.facebook_url||_.instagram_url||_.twitter_url||_.whatsapp_url||_.other_url)&&l.jsxs("div",{className:"flex gap-2 pt-3 border-t border-slate-200",children:[_.facebook_url&&l.jsx("a",{href:_.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Facebook",children:l.jsx(Yu,{className:"w-5 h-5"})}),_.instagram_url&&l.jsx("a",{href:_.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-pink-600 hover:bg-pink-50 rounded transition-colors",title:"Instagram",children:l.jsx(Zu,{className:"w-5 h-5"})}),_.twitter_url&&l.jsx("a",{href:_.twitter_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-sky-600 hover:bg-sky-50 rounded transition-colors",title:"Twitter/X",children:l.jsx(nc,{className:"w-5 h-5"})}),_.whatsapp_url&&l.jsx("a",{href:_.whatsapp_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"WhatsApp",children:l.jsx(rc,{className:"w-5 h-5"})}),_.other_url&&l.jsx("a",{href:_.other_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-600 hover:bg-slate-50 rounded transition-colors",title:"Enlace",children:l.jsx(ec,{className:"w-5 h-5"})})]})]})]},_.id)})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full p-8 max-h-[90vh] overflow-y-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:a?"Editar Evento":"Crear Nuevo Evento"}),l.jsxs("form",{onSubmit:F,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ttulo del Evento *"}),l.jsx("input",{type:"text",value:x.title,onChange:_=>j({...x,title:_.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Ej: Reunin mensual del equipo",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{value:x.description,onChange:_=>j({...x,description:_.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Describe el evento...",rows:4})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fecha y Hora de Inicio *"}),l.jsx("input",{type:"datetime-local",value:x.event_date,onChange:_=>U(_.target.value),step:"1800",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fecha y Hora de Fin"}),l.jsx("input",{type:"datetime-local",value:x.end_date,onChange:_=>Z(_.target.value),step:"1800",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ubicacin"}),l.jsx("input",{type:"text",value:x.location,onChange:_=>j({...x,location:_.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Ej: Sala de conferencias"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Precio"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{type:"radio",checked:x.is_free,onChange:()=>j({...x,is_free:!0}),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-slate-700",children:"Evento Gratuito"})]}),l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{type:"radio",checked:!x.is_free,onChange:()=>j({...x,is_free:!1}),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-slate-700",children:"Evento de Pago"})]})]}),!x.is_free&&l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsx("div",{className:"col-span-1",children:l.jsxs("select",{value:x.currency,onChange:_=>j({...x,currency:_.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[l.jsx("option",{value:"GTQ",children:"GTQ"}),l.jsx("option",{value:"USD",children:"USD"}),l.jsx("option",{value:"EUR",children:"EUR"}),l.jsx("option",{value:"MXN",children:"MXN"})]})}),l.jsx("div",{className:"col-span-2",children:l.jsx("input",{type:"number",step:"0.01",min:"0",value:x.price,onChange:_=>j({...x,price:_.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"0.00"})})]})]})]}),c==="system_user"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Equipo *"}),l.jsxs("select",{value:x.team_id,onChange:_=>j({...x,team_id:_.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",required:!0,children:[l.jsx("option",{value:"",children:"Seleccionar equipo..."}),v.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Imagen del Evento"}),l.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:de,className:"hidden"}),!g&&!x.image_url?l.jsxs("button",{type:"button",onClick:()=>{var _;return(_=S.current)==null?void 0:_.click()},className:"w-full h-40 border-2 border-dashed border-slate-300 rounded-lg flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50 transition-colors cursor-pointer",children:[l.jsx(gi,{className:"w-10 h-10 text-slate-400 mb-2"}),l.jsx("span",{className:"text-slate-600 font-medium",children:"Haz clic para subir una imagen"}),l.jsx("span",{className:"text-slate-400 text-sm mt-1",children:"PNG, JPG hasta 5MB"})]}):l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:g||x.image_url,alt:"Preview",className:"w-full h-40 object-cover rounded-lg"}),l.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{var _;return(_=S.current)==null?void 0:_.click()},className:"p-2 bg-white rounded-full shadow-md hover:bg-slate-100 transition-colors",title:"Cambiar imagen",children:l.jsx(gi,{className:"w-4 h-4 text-slate-600"})}),l.jsx("button",{type:"button",onClick:D,className:"p-2 bg-white rounded-full shadow-md hover:bg-red-50 transition-colors",title:"Eliminar imagen",children:l.jsx(Mi,{className:"w-4 h-4 text-red-600"})})]})]}),p&&l.jsxs("div",{className:"mt-2 flex items-center text-sm text-slate-600",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Subiendo imagen..."]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Enlaces de Redes Sociales"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yu,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),l.jsx("input",{type:"url",value:x.facebook_url,onChange:_=>j({...x,facebook_url:_.target.value}),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"https://facebook.com/..."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zu,{className:"w-5 h-5 text-pink-600 flex-shrink-0"}),l.jsx("input",{type:"url",value:x.instagram_url,onChange:_=>j({...x,instagram_url:_.target.value}),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"https://instagram.com/..."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nc,{className:"w-5 h-5 text-sky-600 flex-shrink-0"}),l.jsx("input",{type:"url",value:x.twitter_url,onChange:_=>j({...x,twitter_url:_.target.value}),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"https://twitter.com/... o https://x.com/..."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rc,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),l.jsx("input",{type:"url",value:x.whatsapp_url,onChange:_=>j({...x,whatsapp_url:_.target.value}),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"https://wa.me/..."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ec,{className:"w-5 h-5 text-slate-600 flex-shrink-0"}),l.jsx("input",{type:"url",value:x.other_url,onChange:_=>j({...x,other_url:_.target.value}),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Otro enlace relevante..."})]})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>{o(!1),u(null),P()},className:"flex-1 py-3 bg-slate-200 text-slate-700 font-medium rounded-lg hover:bg-slate-300 transition-colors",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[a?"Actualizar":"Crear"," Evento"]})]})]})]})})]})}function sc(){const{user:t,signOut:e,userRole:r}=Nt(),[n,s]=N.useState([]),[i,o]=N.useState([]),[a,u]=N.useState(!0),[c,d]=N.useState(null),[h,m]=N.useState("dashboard"),[v,w]=N.useState(null);N.useEffect(()=>{b()},[t]);const b=async()=>{try{let k=[];const{data:z}=await I.from("profiles").select("default_team_id, teams(name)").eq("id",t==null?void 0:t.id).maybeSingle(),de=z==null?void 0:z.default_team_id;if(r==="system_user"){const{data:D}=await I.from("courses").select("*").order("created_at",{ascending:!0});k=D||[]}else if(de){const{data:D}=await I.from("courses").select("*").eq("is_public",!0).order("created_at",{ascending:!0}),{data:M}=await I.from("courses").select("*, team_courses!inner(team_id)").eq("team_courses.team_id",de).eq("is_public",!1),O=[...D||[],...M||[]];k=Array.from(new Map(O.map(T=>[T.id,T])).values())}else{const{data:D}=await I.from("courses").select("*").eq("is_public",!0).order("created_at",{ascending:!0});k=D||[]}const{data:me}=await I.from("enrollments").select("*").eq("user_id",t==null?void 0:t.id);r!=="system_user"&&(z!=null&&z.teams)&&w(z.teams.name),s(k),o(me||[])}catch(k){console.error("Error fetching data:",k)}finally{u(!1)}},E=async k=>{try{const{error:z}=await I.from("enrollments").insert({user_id:t==null?void 0:t.id,course_id:k});if(z)throw z;b()}catch(z){console.error("Error enrolling:",z),alert(z.message||"Failed to enroll in course")}},g=k=>i.some(z=>z.course_id===k),f=k=>{const z=i.find(de=>de.course_id===k);return(z==null?void 0:z.progress)||0},p=k=>{const z=i.find(de=>de.course_id===k);return(z==null?void 0:z.id)||""},y=k=>{const z=p(k);d({courseId:k,enrollmentId:z})},S=k=>{switch(k){case"beginner":return"bg-green-100 text-green-700";case"intermediate":return"bg-blue-100 text-blue-700";case"advanced":return"bg-purple-100 text-purple-700";default:return"bg-slate-100 text-slate-700"}};if(a)return l.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Cargando tus cursos..."})]})});const x=n.filter(k=>g(k.id)),j=n.filter(k=>!g(k.id)),R=j.filter(k=>k.is_public),H=j.filter(k=>!k.is_public);return c?l.jsx(sv,{courseId:c.courseId,enrollmentId:c.enrollmentId,onBack:()=>{d(null),b()}}):l.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[l.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200 fixed h-full flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-slate-200",children:l.jsx("img",{src:"https://dqygnmjwprmoipcyhzzn.supabase.co/storage/v1/object/public/multimedia/1f694ce8-dec9-43cb-bc15-0bf8a018fe7f/logo/1767629183022-7xqmg.svg",alt:"Logo",className:"h-12 w-auto"})}),l.jsxs("div",{className:"p-4 border-b border-slate-200",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[l.jsx(ev,{className:"w-5 h-5 text-slate-600"}),l.jsx("span",{className:"text-sm font-medium text-slate-700 truncate",children:t==null?void 0:t.email})]}),v&&l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Vr,{className:"w-4 h-4 text-slate-600"}),l.jsx("span",{className:"text-xs text-slate-600 truncate",children:v})]}),r&&l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${r==="system_user"?"bg-orange-100 text-orange-700":r==="team_leader"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:r==="system_user"?"Administrador":r==="team_leader"?"Lder de Equipo":"Miembro"})]}),l.jsx("nav",{className:"flex-1 p-4",children:l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsxs("button",{onClick:()=>m("dashboard"),className:`w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${h==="dashboard"?"bg-blue-50 text-blue-600":"text-slate-700 hover:bg-blue-50 hover:text-blue-600"}`,children:[l.jsx(Gg,{className:"w-5 h-5"}),l.jsx("span",{children:"Dashboard"})]})}),l.jsx("li",{children:l.jsxs("button",{onClick:()=>m("events"),className:`w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${h==="events"?"bg-blue-50 text-blue-600":"text-slate-700 hover:bg-blue-50 hover:text-blue-600"}`,children:[l.jsx(qh,{className:"w-5 h-5"}),l.jsx("span",{children:"Eventos"})]})}),(r==="system_user"||r==="team_leader")&&l.jsxs(l.Fragment,{children:[l.jsx("li",{children:l.jsxs("button",{onClick:()=>m("courses"),className:`w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${h==="courses"?"bg-blue-50 text-blue-600":"text-slate-700 hover:bg-blue-50 hover:text-blue-600"}`,children:[l.jsx(qs,{className:"w-5 h-5"}),l.jsx("span",{children:"Cursos"})]})}),l.jsx("li",{children:l.jsxs("button",{onClick:()=>m("teams"),className:`w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${h==="teams"?"bg-blue-50 text-blue-600":"text-slate-700 hover:bg-blue-50 hover:text-blue-600"}`,children:[l.jsx(Vr,{className:"w-5 h-5"}),l.jsx("span",{children:"Equipos"})]})})]})]})}),l.jsx("div",{className:"p-4 border-t border-slate-200",children:l.jsxs("button",{onClick:()=>e(),className:"w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium text-slate-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",children:[l.jsx(Hh,{className:"w-5 h-5"}),l.jsx("span",{children:"Cerrar Sesin"})]})})]}),l.jsx("div",{className:"flex-1 ml-64",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[h==="dashboard"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Dashboard"}),l.jsx("p",{className:"text-xl text-slate-600",children:"Contina tu viaje de descubrimiento"})]}),x.length>0&&l.jsxs("section",{className:"mb-16",children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center",children:[l.jsx(Vg,{className:"w-7 h-7 mr-2 text-blue-600"}),"Mis Cursos Inscritos"]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(k=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsx("img",{src:k.image_url,alt:k.title,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S(k.level)}`,children:k.level==="beginner"?"principiante":k.level==="intermediate"?"intermedio":"avanzado"}),l.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[l.jsx(Wr,{className:"w-4 h-4 mr-1"}),k.duration]})]}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:k.title}),l.jsx("p",{className:"text-slate-600 text-sm mb-4 line-clamp-2",children:k.description}),l.jsxs("p",{className:"text-sm text-slate-700 mb-4",children:["Instructor(a): ",k.instructor]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-slate-600 mb-1",children:[l.jsx("span",{children:"Progreso"}),l.jsxs("span",{children:[f(k.id),"%"]})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${f(k.id)}%`}})})]}),l.jsx("button",{onClick:()=>y(k.id),className:"w-full py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Continuar Aprendiendo"})]})]},k.id))})]}),R.length>0&&l.jsxs("section",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center",children:[l.jsx(qs,{className:"w-7 h-7 mr-2 text-blue-600"}),"Cursos Pblicos"]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(k=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[l.jsx("img",{src:k.image_url,alt:k.title,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S(k.level)}`,children:k.level==="beginner"?"principiante":k.level==="intermediate"?"intermedio":"avanzado"}),l.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[l.jsx(Wr,{className:"w-4 h-4 mr-1"}),k.duration]})]}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:k.title}),l.jsx("p",{className:"text-slate-600 text-sm mb-4 line-clamp-2",children:k.description}),l.jsxs("p",{className:"text-sm text-slate-700 mb-4",children:["Instructor(a): ",k.instructor]}),l.jsx("button",{onClick:()=>E(k.id),className:"w-full py-2 bg-white text-blue-600 font-medium rounded-lg border-2 border-blue-600 hover:bg-blue-50 transition-colors",children:"Inscribirse Ahora"})]})]},k.id))})]}),H.length>0&&l.jsxs("section",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center",children:[l.jsx(Vr,{className:"w-7 h-7 mr-2 text-blue-600"}),"Cursos de Equipo"]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(k=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow border-2 border-blue-200",children:[l.jsx("img",{src:k.image_url,alt:k.title,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S(k.level)}`,children:k.level==="beginner"?"principiante":k.level==="intermediate"?"intermedio":"avanzado"}),l.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[l.jsx(Wr,{className:"w-4 h-4 mr-1"}),k.duration]})]}),l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Equipo"})}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:k.title}),l.jsx("p",{className:"text-slate-600 text-sm mb-4 line-clamp-2",children:k.description}),l.jsxs("p",{className:"text-sm text-slate-700 mb-4",children:["Instructor(a): ",k.instructor]}),l.jsx("button",{onClick:()=>E(k.id),className:"w-full py-2 bg-white text-blue-600 font-medium rounded-lg border-2 border-blue-600 hover:bg-blue-50 transition-colors",children:"Inscribirse Ahora"})]})]},k.id))})]}),n.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(qs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600 text-lg",children:"No hay cursos disponibles en este momento."})]})]}),h==="events"&&l.jsx(dv,{}),h==="teams"&&l.jsx(iv,{}),h==="courses"&&l.jsx(cv,{})]})})]})}function hv({onClose:t,initialMode:e="signin"}){const[r,n]=N.useState(e==="signup"),[s,i]=N.useState(""),[o,a]=N.useState(""),[u,c]=N.useState(""),[d,h]=N.useState(""),[m,v]=N.useState(!1),{signIn:w,signUp:b}=Nt(),E=async g=>{g.preventDefault(),h(""),v(!0);try{if(r){if(!u.trim()){h("Por favor ingresa tu nombre completo"),v(!1);return}const{error:f}=await b(s,o,u);if(f)throw f}else{const{error:f}=await w(s,o);if(f)throw f}t()}catch(f){h(f.message||"An error occurred")}finally{v(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full relative",children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:l.jsx(Mi,{className:"w-6 h-6"})}),l.jsxs("div",{className:"p-8",children:[l.jsx("div",{className:"flex items-center justify-center mb-6",children:l.jsx("img",{src:"https://dqygnmjwprmoipcyhzzn.supabase.co/storage/v1/object/public/multimedia/1f694ce8-dec9-43cb-bc15-0bf8a018fe7f/logo/1767629183022-7xqmg.svg",alt:"Logo",className:"h-16 w-auto"})}),l.jsx("h2",{className:"text-3xl font-bold text-slate-900 text-center mb-2",children:r?"Crear Cuenta":"Bienvenido de Nuevo"}),l.jsx("p",{className:"text-slate-600 text-center mb-8",children:r?"Comienza tu viaje de descubrimiento":"Contina tu viaje de aprendizaje"}),d&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:d}),l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[r&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre Completo"}),l.jsx("input",{type:"text",value:u,onChange:g=>c(g.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Juan Prez",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Correo Electrnico"}),l.jsx("input",{type:"email",value:s,onChange:g=>i(g.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"tu@ejemplo.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contrasea"}),l.jsx("input",{type:"password",value:o,onChange:g=>a(g.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"",required:!0,minLength:6})]}),l.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Espera por favor...":r?"Registrarse":"Iniciar Sesin"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>{n(!r),h("")},className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:r?"Ya tienes una cuenta? Inicia Sesin":"No tienes cuenta? Regstrate"})})]})]})})}function fv({userId:t,onTeamSelected:e}){const{signOut:r}=Nt(),[n,s]=N.useState([]),[i,o]=N.useState(""),[a,u]=N.useState(!0),[c,d]=N.useState(!1);N.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:v}=await I.from("teams").select("*").order("name",{ascending:!0});s(v||[])}catch(v){console.error("Error fetching teams:",v)}finally{u(!1)}},m=async()=>{if(!i){alert("Por favor selecciona un equipo");return}d(!0);try{const{error:v}=await I.from("profiles").update({default_team_id:i}).eq("id",t);if(v)throw v;const{error:w}=await I.from("team_members").insert({team_id:i,user_id:t});if(w&&!w.message.includes("duplicate key"))throw w;const{error:b}=await I.from("user_roles").insert({user_id:t,role:"member"});if(b&&!b.message.includes("duplicate key"))throw b;e()}catch(v){alert(v.message||"Error al seleccionar equipo"),d(!1)}};return a?l.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Cargando equipos..."})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-4xl w-full",children:[l.jsx("div",{className:"absolute top-4 right-4",children:l.jsxs("button",{onClick:()=>r(),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-slate-700 hover:text-blue-600 bg-white rounded-lg shadow-md hover:shadow-lg transition-all",children:[l.jsx(Hh,{className:"w-4 h-4"}),l.jsx("span",{children:"Cerrar Sesin"})]})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("img",{src:"https://dqygnmjwprmoipcyhzzn.supabase.co/storage/v1/object/public/multimedia/1f694ce8-dec9-43cb-bc15-0bf8a018fe7f/logo/1767629183022-7xqmg.svg",alt:"Logo",className:"h-20 w-auto"})}),l.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-3",children:"Bienvenido"}),l.jsx("p",{className:"text-xl text-slate-600",children:"Selecciona tu equipo para comenzar"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-2 flex items-center",children:[l.jsx(Vr,{className:"w-7 h-7 mr-2 text-blue-600"}),"Equipos Disponibles"]}),l.jsx("p",{className:"text-slate-600",children:"Elige el equipo al que perteneces para acceder a los cursos correspondientes"})]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:n.map(v=>l.jsxs("div",{onClick:()=>o(v.id),className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all ${i===v.id?"border-blue-600 bg-blue-50 shadow-lg":"border-slate-200 hover:border-slate-300 hover:shadow-md"}`,children:[i===v.id&&l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(ka,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:v.name}),l.jsx("p",{className:"text-slate-600",children:v.description})]},v.id))}),n.length===0&&l.jsxs("div",{className:"text-center py-8 text-slate-600",children:[l.jsx(Vr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),l.jsx("p",{children:"No hay equipos disponibles en este momento."}),l.jsx("p",{className:"text-sm mt-2",children:"Por favor contacta al administrador."})]}),n.length>0&&l.jsx("button",{onClick:m,disabled:!i||c,className:"w-full py-4 bg-blue-600 text-white font-bold text-lg rounded-lg hover:bg-blue-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed flex items-center justify-center",children:c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Procesando..."]}):"Continuar"})]}),l.jsx("p",{className:"text-center text-slate-500 mt-6 text-sm",children:"Podrs cambiar tu equipo ms tarde si es necesario"})]})})}function pv(){const{user:t,loading:e,hasTeam:r,userRole:n,refreshTeamStatus:s}=Nt(),[i,o]=N.useState(!1),[a,u]=N.useState("signin");return e?l.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):t?n==="system_user"?l.jsx(sc,{}):r?l.jsx(sc,{}):l.jsx(fv,{userId:t.id,onTeamSelected:s}):l.jsxs(l.Fragment,{children:[l.jsx(rv,{onGetStarted:()=>{u("signin"),o(!0)},onSignUp:()=>{u("signup"),o(!0)}}),i&&l.jsx(hv,{onClose:()=>o(!1),initialMode:a})]})}function mv(){return l.jsxs(Mg,{children:[l.jsx(pv,{}),l.jsx(av,{})]})}vh(document.getElementById("root")).render(l.jsx(N.StrictMode,{children:l.jsx(mv,{})}));
